<!-- Special loading placeholder for AIGC-Gen -->

<script setup lang="ts">
const props = withDefaults(
  defineProps<{
    cover?: boolean
    visible?: boolean
  }>(),
  {
    cover: false,
    visible: true
  }
)
</script>

<template>
  <div class="gen-loading" :class="{ cover: props.cover, visible: props.visible }">
    <div class="content">
      <div class="icon-wrapper">
        <div class="sparkle" aria-hidden="true">
          <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_4115_901)">
              <path
                d="M19.0739 5.2525C19.448 5.38698 19.7429 5.68181 19.8774 6.05595L22.2911 12.768C22.4256 13.1439 22.7222 13.4387 23.0963 13.5732L29.8084 15.987C30.0665 16.0802 30.2896 16.2507 30.4474 16.4753C30.6051 16.6999 30.6897 16.9677 30.6897 17.2422C30.6897 17.5166 30.6051 17.7844 30.4474 18.009C30.2896 18.2336 30.0665 18.4041 29.8084 18.4973L23.0963 20.9111C22.7982 21.0176 22.5477 21.2266 22.3894 21.5008L22.2911 21.7163L19.8774 28.4284C19.7842 28.6865 19.6136 28.9096 19.389 29.0673C19.1644 29.225 18.8966 29.3097 18.6222 29.3097C18.3477 29.3097 18.08 29.225 17.8553 29.0673C17.6307 28.9096 17.4602 28.6865 17.367 28.4284L14.9532 21.7163C14.8867 21.531 14.78 21.3627 14.6408 21.2235C14.5016 21.0843 14.3333 20.9776 14.148 20.9111L7.43597 18.4973C7.17784 18.4041 6.95472 18.2336 6.79701 18.009C6.63931 17.7844 6.55469 17.5166 6.55469 17.2422C6.55469 16.9677 6.63931 16.6999 6.79701 16.4753C6.95472 16.2507 7.17784 16.0802 7.43597 15.987L14.148 13.5732C14.3333 13.5067 14.5016 13.4 14.6408 13.2608C14.78 13.1216 14.8867 12.9533 14.9532 12.768L17.367 6.05595C17.4869 5.72314 17.7341 5.45156 18.0541 5.3009C18.3742 5.15024 18.741 5.13283 19.0739 5.2525Z"
                fill="#0BC0CF"
              />
              <path
                d="M32.5404 29.3909C32.7181 29.4548 32.8581 29.5948 32.922 29.7725L34.0686 32.9608C34.1324 33.1393 34.2733 33.2793 34.451 33.3432L37.6393 34.4898C37.7619 34.534 37.8679 34.615 37.9428 34.7217C38.0177 34.8284 38.0579 34.9556 38.0579 35.086C38.0579 35.2163 38.0177 35.3435 37.9428 35.4502C37.8679 35.5569 37.7619 35.6379 37.6393 35.6822L34.451 36.8287C34.3094 36.8793 34.1904 36.9786 34.1152 37.1088L34.0686 37.2112L32.922 40.3994C32.8777 40.522 32.7967 40.628 32.6901 40.7029C32.5834 40.7778 32.4562 40.818 32.3258 40.818C32.1954 40.818 32.0683 40.7778 31.9616 40.7029C31.8549 40.628 31.7739 40.522 31.7296 40.3994L30.5831 37.2112C30.5515 37.1232 30.5008 37.0432 30.4347 36.9771C30.3685 36.911 30.2886 36.8603 30.2006 36.8287L27.0124 35.6822C26.8897 35.6379 26.7838 35.5569 26.7089 35.4502C26.6339 35.3435 26.5938 35.2163 26.5938 35.086C26.5938 34.9556 26.6339 34.8284 26.7089 34.7217C26.7838 34.615 26.8897 34.534 27.0124 34.4898L30.2006 33.3432C30.2886 33.3116 30.3685 33.2609 30.4347 33.1948C30.5008 33.1287 30.5515 33.0488 30.5831 32.9608L31.7296 29.7725C31.7866 29.6144 31.904 29.4854 32.056 29.4139C32.208 29.3423 32.3823 29.334 32.5404 29.3909Z"
                fill="#0BC0CF"
              />
              <path
                d="M3.41141 -4.98889C3.66395 -4.89811 3.86296 -4.6991 3.95374 -4.44656L5.58305 0.0840864C5.67382 0.337793 5.87399 0.536802 6.12654 0.627578L10.6572 2.25689C10.8314 2.3198 10.982 2.43491 11.0885 2.58652C11.1949 2.73813 11.2521 2.91888 11.2521 3.10413C11.2521 3.28938 11.1949 3.47013 11.0885 3.62174C10.982 3.77335 10.8314 3.88846 10.6572 3.95137L6.12654 5.58068C5.92531 5.65256 5.75619 5.79363 5.64938 5.9787L5.58305 6.12417L3.95374 10.6548C3.89082 10.8291 3.77572 10.9797 3.62411 11.0861C3.47249 11.1926 3.29175 11.2497 3.10649 11.2497C2.92124 11.2497 2.7405 11.1926 2.58888 11.0861C2.43727 10.9797 2.32217 10.8291 2.25925 10.6548L0.629944 6.12417C0.58505 5.9991 0.51304 5.88551 0.419076 5.79155C0.325113 5.69759 0.211524 5.62558 0.0864525 5.58068L-4.44419 3.95137C-4.61844 3.88846 -4.76904 3.77335 -4.87549 3.62174C-4.98195 3.47013 -5.03906 3.28938 -5.03906 3.10413C-5.03906 2.91888 -4.98195 2.73813 -4.87549 2.58652C-4.76904 2.43491 -4.61844 2.3198 -4.44419 2.25689L0.0864525 0.627578C0.211524 0.582684 0.325113 0.510674 0.419076 0.41671C0.51304 0.322747 0.58505 0.209157 0.629944 0.0840864L2.25925 -4.44656C2.3402 -4.67121 2.50702 -4.85452 2.72307 -4.95622C2.93912 -5.05791 3.1867 -5.06966 3.41141 -4.98889Z"
                fill="#0BC0CF"
              />
              <path
                d="M19.5286 36.6478C19.7811 36.7386 19.9801 36.9376 20.0709 37.1902L21.7002 41.7208C21.791 41.9745 21.9912 42.1735 22.2437 42.2643L26.7744 43.8936C26.9486 43.9565 27.0992 44.0716 27.2057 44.2232C27.3121 44.3748 27.3692 44.5556 27.3692 44.7408C27.3692 44.9261 27.3121 45.1068 27.2057 45.2585C27.0992 45.4101 26.9486 45.5252 26.7744 45.5881L22.2437 47.2174C22.0425 47.2893 21.8734 47.4304 21.7666 47.6154L21.7002 47.7609L20.0709 52.2915C20.008 52.4658 19.8929 52.6164 19.7413 52.7228C19.5897 52.8293 19.4089 52.8864 19.2237 52.8864C19.0384 52.8864 18.8577 52.8293 18.7061 52.7228C18.5545 52.6164 18.4394 52.4658 18.3764 52.2915L16.7471 47.7609C16.7022 47.6358 16.6302 47.5222 16.5363 47.4283C16.4423 47.3343 16.3287 47.2623 16.2036 47.2174L11.673 45.5881C11.4988 45.5252 11.3481 45.4101 11.2417 45.2585C11.1352 45.1068 11.0781 44.9261 11.0781 44.7408C11.0781 44.5556 11.1352 44.3748 11.2417 44.2232C11.3481 44.0716 11.4988 43.9565 11.673 43.8936L16.2036 42.2643C16.3287 42.2194 16.4423 42.1474 16.5363 42.0534C16.6302 41.9595 16.7022 41.8459 16.7471 41.7208L18.3764 37.1902C18.4574 36.9655 18.6242 36.7822 18.8403 36.6805C19.0563 36.5788 19.3039 36.5671 19.5286 36.6478Z"
                fill="#0BC0CF"
              />
            </g>
            <defs>
              <clipPath id="clip0_4115_901">
                <rect width="40" height="40" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </div>
      </div>
      <div class="text">
        <slot></slot>
      </div>
    </div>
  </div>
</template>

<style lang="scss" scoped>
.gen-loading {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  visibility: hidden;
  opacity: 0;
  transition:
    visibility 0.2s,
    opacity 0.2s;

  &.cover {
    position: absolute;
    inset: 0;
    border-radius: inherit;
    overflow: hidden;
    background: radial-gradient(circle at 30% 20%, var(--ui-color-grey-200), var(--ui-color-grey-100) 60%);
  }

  &.visible {
    visibility: visible;
    opacity: 1;
  }
}

.content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
}

.icon-wrapper {
  width: 80px;
  height: 80px;
  padding: 20px;
  border-radius: var(--ui-border-radius-2);
  display: grid;
  place-items: center;
}

.sparkle {
  width: 40px;
  height: 40px;
  position: relative;
}

.sparkle::after {
  box-shadow: 20px 18px 0 0 var(--ui-color-primary-main);
}

.text {
  font-size: 14px;
  line-height: 22px;
  font-weight: 600;
  color: var(--ui-color-text);
  text-align: center;
}
</style>
