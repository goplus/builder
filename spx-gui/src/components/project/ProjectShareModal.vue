<template>
  <UIFormModal
    :radar="{ name: 'Project share modal', desc: 'Modal for sharing project with social media platforms' }"
    :title="$t({ en: 'Share Project', zh: '分享项目' })"
    :visible="props.visible"
    :auto-focus="false"
    @update:visible="emit('cancelled')"
  >
    <div class="share-content">
      <!-- 分享标题 -->
      <div class="share-title">
        {{ $t({ en: 'This work is great, share it with friends!', zh: '作品这么棒,分享给好友吧!' }) }}
      </div>
      
      <!-- 分享链接区域 -->
      <div class="share-link-section">
        <div class="section-label">{{ $t({ en: 'Share Link', zh: '分享链接' }) }}</div>
        <div class="link-container">
          <UITextInput
            v-radar="{ name: 'Sharing link input', desc: 'Input field showing the project sharing link' }"
            :value="projectSharingLink"
            :readonly="true"
            class="link-input"
            @focus="$event.target.select()"
          />
          <UIButton
            v-radar="{ name: 'Copy button', desc: 'Click to copy sharing link to clipboard' }"
            class="copy-button"
            type="primary"
            size="small"
            :loading="handleCopy.isLoading.value"
            @click="handleCopy.fn"
          >
            {{ $t({ en: 'Copy', zh: '复制' }) }}
          </UIButton>
        </div>
      </div>
      
      <!-- 分享方式区域 -->
      <div class="share-methods-section">
        <div class="section-label">{{ $t({ en: 'Share Method', zh: '分享方式' }) }}</div>
        <div class="social-icons">
          <div 
            v-for="platform in socialPlatforms" 
            :key="platform.name"
            class="social-icon"
            :class="{ active: selectedPlatform === platform.name }"
            @click="selectedPlatform = platform.name"
          >
            <div class="icon-wrapper">
              <!-- QQ图标 -->
              <span v-if ="platform.name === 'qq'">
                <svg  t="1754984248457" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8636" width="42" height="42">
                  <path d="M512 0C229.224296 0 0 229.224296 0 512s229.224296 512 512 512 512-229.224296 512-512S794.775704 0 512 0zM801.261037 668.86163c-21.731556 18.640593-49.948444-61.345185-54.006519-49.038222-9.879704 29.923556-14.506667 49.929481-43.633778 82.507852-1.554963 1.744593 33.659259 14.468741 43.633778 41.642667 9.557333 26.017185 28.141037 67.26163-93.487407 80.213333-71.35763 7.585185-122.936889-38.020741-128.075852-37.584593-9.53837 0.83437-5.290667 0-15.530667 0-8.38163 0-8.931556 0.606815-16.820148 0-2.161778-0.170667-25.884444 37.584593-131.963259 37.584593-82.223407 0-103.518815-51.749926-86.983111-80.213333 16.535704-28.463407 44.126815-36.750222 40.239407-41.263407-19.152593-22.186667-32.350815-45.909333-40.239407-67.356444-1.953185-5.347556-3.584-10.543407-4.873481-15.530667-2.996148-11.45363-25.884444 67.204741-50.460444 49.038222-24.576-18.166519-22.376296-64.417185-6.46637-108.676741 16.042667-44.619852 56.471704-87.589926 56.926815-97.071407 1.611852-35.290074-3.489185-41.14963 0-50.422519 7.755852-20.764444 17.199407-12.8 17.199407-23.570963 0-135.736889 100.864-245.76 225.28-245.76s225.28 110.042074 225.28 245.76c0 5.195852 13.520593 0 19.986963 23.570963 1.327407 4.873481 2.23763 23.665778 0.663704 50.422519-0.739556 12.856889 34.266074 28.501333 52.375704 97.071407C828.434963 628.754963 810.30637 661.105778 801.261037 668.86163z" fill="#68A5E1" p-id="8637">
                  </path>
                </svg>
              </span>
              <!-- wechat图标 -->
              <span v-else-if="platform.name === 'wechat'">
                <svg t="1754984623331" class="icon" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9617" width="42" height="42">
                  <path d="M331.429 263.429q0-23.429-14.286-37.715t-37.714-14.285q-24.572 0-43.429 14.571t-18.857 37.429q0 22.285 18.857 36.857t43.429 14.571q23.428 0 37.714-14t14.286-37.428zM756 553.143q0-16-14.571-28.572T704 512q-15.429 0-28.286 12.857t-12.857 28.286q0 16 12.857 28.857T704 594.857q22.857 0 37.429-12.571T756 553.143zM621.143 263.429q0-23.429-14-37.715t-37.429-14.285q-24.571 0-43.428 14.571t-18.857 37.429q0 22.285 18.857 36.857t43.428 14.571q23.429 0 37.429-14t14-37.428zM984 553.143q0-16-14.857-28.572T932 512q-15.429 0-28.286 12.857t-12.857 28.286q0 16 12.857 28.857T932 594.857q22.286 0 37.143-12.571T984 553.143zM832 326.286Q814.286 324 792 324q-96.571 0-177.714 44T486.57 487.143 440 651.429q0 44.571 13.143 86.857-20 1.714-38.857 1.714-14.857 0-28.572-0.857t-31.428-3.714-25.429-4-31.143-6-28.571-6L124.57 792l41.143-124.571Q0 551.429 0 387.429q0-96.572 55.714-177.715T206.571 82t207.715-46.571q100.571 0 190 37.714T754 177.429t78 148.857z m338.286 320.571q0 66.857-39.143 127.714t-106 110.572l31.428 103.428-113.714-62.285q-85.714 21.143-124.571 21.143-96.572 0-177.715-40.286T512.857 797.714t-46.571-150.857T512.857 496t127.714-109.429 177.715-40.285q92 0 173.143 40.285t130 109.715 48.857 150.571z" fill="#0e932e" p-id="9618">
                  </path>
                </svg>
              </span>
              <!-- 抖音图标 -->
              <span v-else-if="platform.name === 'douyin'">
                <svg t="1754984977194" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10627" width="42" height="42">
                  <path d="M0 0m184.32 0l655.36 0q184.32 0 184.32 184.32l0 655.36q0 184.32-184.32 184.32l-655.36 0q-184.32 0-184.32-184.32l0-655.36q0-184.32 184.32-184.32Z" fill="#111111" p-id="10628"></path><path d="M204.27776 670.59712a246.25152 246.25152 0 0 1 245.97504-245.97504v147.57888a98.49856 98.49856 0 0 0-98.38592 98.38592c0 48.34304 26.14272 100.352 83.54816 100.352 3.81952 0 93.55264-0.88064 93.55264-77.19936V134.35904h157.26592a133.31456 133.31456 0 0 0 133.12 132.99712l-0.13312 147.31264a273.152 273.152 0 0 1-142.62272-38.912l-0.06144 317.98272c0 146.00192-124.24192 224.77824-241.14176 224.77824-131.74784 0.03072-231.1168-106.56768-231.1168-247.92064z" fill="#FF4040" p-id="10629"></path><path d="M164.92544 631.23456a246.25152 246.25152 0 0 1 245.97504-245.97504v147.57888a98.49856 98.49856 0 0 0-98.38592 98.38592c0 48.34304 26.14272 100.352 83.54816 100.352 3.81952 0 93.55264-0.88064 93.55264-77.19936V94.99648h157.26592a133.31456 133.31456 0 0 0 133.12 132.99712l-0.13312 147.31264a273.152 273.152 0 0 1-142.62272-38.912l-0.06144 317.98272c0 146.00192-124.24192 224.77824-241.14176 224.77824-131.74784 0.03072-231.1168-106.56768-231.1168-247.92064z" fill="#00F5FF" p-id="10630"></path><path d="M410.91072 427.58144c-158.8224 20.15232-284.44672 222.72-154.112 405.00224 120.40192 98.47808 373.68832 41.20576 380.70272-171.85792l-0.17408-324.1472a280.7296 280.7296 0 0 0 142.88896 38.62528V261.2224a144.98816 144.98816 0 0 1-72.8064-54.82496 135.23968 135.23968 0 0 1-54.70208-72.45824h-123.66848l-0.08192 561.41824c-0.11264 78.46912-130.9696 106.41408-164.18816 30.2592-83.18976-39.77216-64.37888-190.9248 46.31552-192.57344z" fill="#FFFFFF" p-id="10631">
                  </path>
                </svg>
              </span>
              <!-- 小红书图标 -->
              <span v-else-if="platform.name === 'xiaohongshu'">
                <svg t="1754985025682" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11655" width="42" height="42">
                  <path d="M1021.72444445 836.54883555V187.48757333C1021.72444445 85.61550222 938.38449778 2.27555555 836.51242667 2.27555555H187.48757333C85.61550222 2.27555555 2.27555555 85.61550222 2.27555555 187.48757333v649.06126222c0 100.85262222 81.70154667 183.57361778 182.2264889 185.1756089h654.9959111c100.48853333-1.60199111 182.22648889-84.28657778 182.2264889-185.1756089" fill="#FF2442" p-id="11656"></path><path d="M726.52117333 366.36444445h57.344v20.53461333c0 1.6384 0.80099555 2.40298667 2.36657778 2.36657777 34.00590222-1.01944889 68.26666667 0.07281778 85.81575111 34.95253334 10.44935111 20.68024889 8.30122667 52.13752889 7.71868445 76.82275556-0.03640889 1.45635555 0.65536 2.25735111 2.03889778 2.40298666 4.00497778 0.36408889 7.90072889 0.72817778 11.68725333 1.20149334 67.61130667 8.11918222 54.24924445 71.87114667 54.46769777 121.96977777 0.10922667 17.47626667-1.85685333 30.25578667-5.82542222 38.41137778-8.37404445 16.89372445-23.37450667 26.57848889-45.00138666 28.98147555H854.97173333l-21.55406222-50.02581333a1.6384 1.6384 0 0 1 0.10922667-1.52917333 1.56558222 1.56558222 0 0 1 1.31072-0.72817778l45.72956444-0.03640889c2.54862222 0 4.95160889-1.09226667 6.69923556-2.98552889a10.12167111 10.12167111 0 0 0 2.69425777-7.02691555c-0.21845333-15.29173333-0.32768-30.54705778-0.25486222-45.80238223 0-13.72615111-6.48078222-20.75306667-19.55157333-21.11715555-14.78200889-0.36408889-42.78044445-0.36408889-84.03171555 0.07281778-1.45635555 0-2.18453333 0.80099555-2.18453334 2.36657777l-0.21845333 126.81216H726.44835555l-0.18204444-127.35829333a2.25735111 2.25735111 0 0 0-2.22094222-2.33016889h-53.52106667a2.54862222 2.54862222 0 0 1-2.47580444-2.54862222l0.07281777-55.41432889c0-1.85685333 0.87381333-2.80348445 2.62144-2.80348444l52.90211556 0.10922667a2.51221333 2.51221333 0 0 0 1.82044444-0.80099556 2.76707555 2.76707555 0 0 0 0.72817778-1.89326222v-47.91409778a3.16757333 3.16757333 0 0 0-3.05834666-3.24039111l-32.65877334 0.14563555c-1.71121778 0-2.54862222-0.91022222-2.54862222-2.69425778l-0.10922666-55.7056c0-1.6384 0.72817778-2.43939555 2.36657777-2.43939555h33.82385778c1.45635555 0 2.18453333-0.72817778 2.18453333-2.29376l0.36408889-20.46179555z m59.38289778 137.37073777l35.57148444-0.07281777c0.58254222 0 1.12867555-0.25486222 1.52917334-0.6917689a2.29376 2.29376 0 0 0 0.61895111-1.6019911l-0.18204445-44.52807112c0-3.49525333-2.54862222-6.33514667-5.64337777-6.33514666l-28.54456889 0.07281778a5.35210667 5.35210667 0 0 0-4.00497778 1.89326222 6.80846222 6.80846222 0 0 0-1.6384 4.55111111l0.18204444 44.52807111c0 1.23790222 0.98304 2.18453333 2.11171556 2.18453333zM417.95584 507.74016c-13.83537778 0.25486222-38.84828445 4.11420445-44.30961778-13.68974222-3.31320889-10.63139555 4.18702222-25.44981333 8.73813333-35.82634667 12.96156445-29.52760889 25.66826667-59.16444445 38.15651556-88.91050666 0.50972445-1.20149333 1.38353778-1.82044445 2.62144-1.82044445h54.72256c0.47331555 0 0.87381333 0.25486222 1.09226667 0.65536a1.45635555 1.45635555 0 0 1 0.14563555 1.31072l-31.67573333 74.01927111c-0.72817778 1.71121778-0.54613333 3.64088889 0.40049778 5.24288a5.17006222 5.17006222 0 0 0 4.36906667 2.47580444h46.89464888c0.58254222 0 1.09226667 0.29127111 1.41994667 0.76458667 0.29127111 0.50972445 0.36408889 1.09226667 0.10922667 1.6384-13.54410667 31.56650667-27.05180445 62.91456-40.52309334 94.04416-1.34712889 3.09475555-1.92967111 5.38851555-1.71121778 6.84487111 0.47331555 3.16757333 2.25735111 4.76956445 5.31569778 4.80597334l29.67324445 0.18204444c1.71121778 0.03640889 2.25735111 0.87381333 1.56558222 2.54862222l-19.18748445 45.14702222a3.78652445 3.78652445 0 0 1-3.64088888 2.51221334c-30.14656 0.36408889-51.22730667 0.36408889-63.24224-0.18204444-19.87925333-0.91022222-24.75804445-18.31367111-17.03936-36.26325334l27.27025778-63.64273778a1.38353778 1.38353778 0 0 0-0.10922667-1.23790222 1.23790222 1.23790222 0 0 0-1.09226667-0.61895111zM190.58232889 694.00803555h-21.48124444l-21.04433778-49.40686222a1.60199111 1.60199111 0 0 1 0.10922666-1.49276444 1.45635555 1.45635555 0 0 1 1.23790222-0.72817778l29.70965334-0.07281778a6.95409778 6.95409778 0 0 0 6.80846222-7.09973333l0.80099556-262.03477333a2.54862222 2.54862222 0 0 1 2.51221333-2.62144h51.11808c2.40298667 0 3.60448 1.27431111 3.64088889 3.78652444 0.21845333 88.72846222 0.21845333 175.92775111 0 261.63427556-0.14563555 35.17098667-16.45681778 59.20085333-53.41184 58.03576888z" fill="#FFFFFF" p-id="11657"></path><path d="M670.08739555 694.00803555h-193.91374222l25.99594667-58.6183111a3.45884445 3.45884445 0 0 1 3.38602667-2.22094223l47.47719111 0.07281778c1.67480889 0 2.54862222-0.83740445 2.54862222-2.54862222v-177.85742223c0-1.52917333-0.72817778-2.29376-2.18453333-2.29376l-31.49368889-0.03640888c-1.41994667 0-2.54862222-1.23790222-2.54862223-2.73066667v-57.05272889c0-0.87381333 0.65536-1.60199111 1.49276445-1.60199111h128.37774222c1.60199111 0 2.36657778 0.83740445 2.36657778 2.51221333l0.07281778 56.43377778c0 1.6384-0.80099555 2.47580445-2.40298667 2.47580444h-31.74855111c-1.45635555 0-2.18453333 0.76458667-2.18453333 2.29376v177.74819556c0 1.71121778 0.83740445 2.54862222 2.43939555 2.54862222l50.31708445 0.10922667c1.38353778 0 2.07530667 0.72817778 2.07530666 2.18453333L670.08739555 694.04444445zM901.02897778 394.65415111c39.61287111-27.23384889 67.50208 42.19790222 24.10268444 54.10360889-7.06332445 1.96608-18.31367111 2.07530667-33.71463111 0.36408889-1.38353778-0.14563555-2.03889778-0.91022222-2.03889778-2.36657778-0.21845333-16.384-3.45884445-41.72458667 11.65084445-52.06471111zM354.20387555 598.79879111l-26.2144 61.05770667c-2.36657778 5.46133333-4.95160889 5.57056-7.8279111 0.43690667-19.29671111-34.87971555-25.85031111-63.35146667-29.63683556-106.71445334-2.91271111-33.67822222-5.42492445-67.35644445-7.60945778-101.10748444-0.07281778-1.52917333 0.61895111-2.29376 2.07530667-2.29376l53.12056889 0.03640888c1.49276445 0 2.33016889 0.80099555 2.43939555 2.3301689 2.73066667 39.24878222 5.60696889 78.38833778 8.59249778 117.41866666 0.76458667 10.04885333 2.47580445 18.38648889 5.09724445 25.01290667a4.73315555 4.73315555 0 0 1-0.0364089 3.82293333zM75.09333333 596.54144v-2.51221333a25.70467555 25.70467555 0 0 0 4.73315556-11.50520889c3.93216-43.32657778 7.13614222-86.61674667 9.64835556-129.94332445 0.10922667-1.34712889 0.76458667-2.03889778 2.03889777-2.03889778h54.24924445c0.47331555 0 0.94663111 0.21845333 1.31072 0.61895112 0.32768 0.36408889 0.50972445 0.87381333 0.47331555 1.38353778a7226.07217778 7226.07217778 0 0 1-9.57553777 119.67601777c-2.54862222 28.94506667-11.79648 67.68412445-31.1296 91.16785778-1.23790222 1.49276445-2.29376 1.34712889-3.09475556-0.47331555L75.09333333 596.54144zM445.08046222 694.00803555h-78.57038222l-10.01244445-3.96856888c-1.41994667-0.54613333-1.82044445-1.52917333-1.16508444-2.94912l24.64881778-56.43377778c0.72817778-1.6384 1.89326222-2.25735111 3.56807111-1.82044444 26.94257778 7.31818667 58.14499555 4.29624889 85.70652445 4.40547555 1.71121778 0.03640889 2.18453333 0.87381333 1.45635555 2.47580445l-25.63185778 58.25422222z" fill="#FFFFFF" p-id="11658">
                  </path>
                </svg>
              </span>
              <!-- b站图标 -->
              <span v-else-if="platform.name === 'bilibili'">
                <svg t="1754985059987" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13679" width="42" height="42">
                  <path d="M201.14 0h622.053q201.14 0 201.14 201.14v621.72q0 201.14-201.14 201.14H201.14Q0 1024 0 822.86V201.14Q0 0 201.14 0z" fill="#F4518C" p-id="13680"></path><path d="M776.425 240.01H640.563l61.576-61.575c10.612-10.613 10.612-25.544 0-36.156s-25.544-10.613-36.156 0L562.081 246.304H460.154L356.129 142.279c-8.515-10.613-21.225-12.71-33.935-6.294-2.098 0-2.098 2.098-4.319 4.196-10.612 10.612-10.612 25.544 0 36.156l63.674 63.674H245.81c-74.41 0-135.862 61.576-135.862 135.862v337.495c0 72.065 61.453 133.641 135.862 133.641h21.225a44.917 44.917 0 0 0 44.547 44.67c23.322 0 44.547-21.347 44.547-44.67h314.173c2.098 25.544 23.322 44.67 48.866 42.45 23.322-2.098 40.228-19.127 42.45-42.45h16.905c74.286 0 135.862-61.576 135.862-135.862V373.651c-2.098-74.286-63.674-133.64-137.96-133.64zM772.23 764.21H254.201c-27.517 0-48.742-23.323-50.84-50.84l-2.221-343.913c0-27.641 23.446-50.964 50.964-50.964h517.904c27.642 0 48.866 23.323 50.964 50.964l2.098 343.912c-2.098 29.616-23.323 50.84-50.84 50.84z" fill="#FFFFFF" opacity=".15" p-id="13681"></path><path d="M421.9 435.227l12.71 63.674-169.796 31.837-12.71-63.674z m163.504 63.674l12.71-63.674 169.797 31.837-12.71 63.674z m33.934 133.764c0 2.098 0 6.417-2.097 8.515-10.613 23.322-33.935 38.13-61.576 40.351-17.03 0-33.935-8.514-44.547-21.348-12.71 12.834-27.642 21.348-44.67 21.348a77.741 77.741 0 0 1-61.453-40.351c0-2.221-2.221-4.319-2.221-8.515 0-8.514 6.416-14.93 14.93-17.029h2.099c6.416 0 10.612 2.222 12.71 8.515 0 0 17.029 23.322 31.837 23.322 29.739 0 29.739-25.42 46.768-44.547 19.003 21.225 19.003 44.547 46.644 44.547 19.127 0 31.837-23.322 31.837-23.322 2.098-4.196 8.515-8.515 12.71-8.515 8.515-2.097 14.932 4.32 17.03 12.71v4.32z" fill="#FFFFFF" opacity=".15" p-id="13682"></path><path d="M759.766 603.05c-5.923-5.923-13.82-9.872-19.744-13.82-19.867-9.996-41.585-17.894-63.427-21.842s-45.41-7.898-69.226-5.924c-3.949 0-5.923 0-9.872 1.975-9.872-83.048-13.82-164.244-9.872-247.415-25.79 8.021-47.509 19.867-71.325 27.765 23.816 120.684 37.637 241.491 47.509 364.15h7.897c17.893 0 33.688 0 51.458-3.949 21.841-1.974 43.56-7.898 65.401-13.944 21.718-7.898 41.462-15.795 57.38-31.59 9.872-7.898 17.77-15.795 19.744-27.765 5.923-9.872 3.95-19.744-5.923-27.641z m-120.684 67.252c-3.949-23.692-5.923-45.534-9.872-67.252 23.693 5.923 45.411 15.795 67.253 23.692-17.893 15.919-37.637 29.74-57.38 43.56z m-324.539-69.227a139.07 139.07 0 0 0-21.841-13.82c-19.744-9.996-41.586-15.919-63.304-19.867s-43.56-5.924-65.278-3.95c-3.948 0-5.923 0-9.872 1.975-9.995-83.047-15.918-166.218-11.97-249.389-23.692 6.047-47.508 19.867-69.226 27.765 23.816 120.684 37.637 241.491 47.509 364.15h7.897a395.493 395.493 0 0 0 96.992-11.847 207.804 207.804 0 0 0 73.175-33.687c9.995-7.898 19.867-17.77 23.816-29.74 5.923-11.846 1.974-21.718-7.898-31.59z m-120.807 69.227c-3.949-23.692-5.923-45.534-9.872-67.252 7.898 0 59.355 19.744 65.278 23.692-15.795 15.919-35.539 29.74-55.406 43.56z m243.466-75.15c-1.975-17.893-1.975-33.688-3.949-51.457-1.974-19.867-3.949-41.585-3.949-61.33-1.974-17.892-1.974-37.636-3.948-55.405-1.975-19.867-1.975-39.611-3.95-59.478 0-5.924 0-5.924-5.922-5.924h-2.098c-7.898 0-15.795 0-21.718 1.975-5.923 0-11.847 1.974-17.77 1.974 17.77 98.966 27.642 199.906 37.513 300.846 11.97 0 23.816 1.975 35.663 1.975v-7.898c-7.898-23.816-9.872-43.56-9.872-65.278z m445.223 15.795c-1.975-19.744-3.95-37.636-3.95-57.38-1.974-19.744-3.948-41.586-5.922-61.33s-1.975-37.636-3.95-57.38c-1.973-23.816-3.948-45.534-3.948-69.35 0-5.923 0-5.923-5.923-5.923h-17.893c-7.897 0-15.795 1.974-25.667 3.949 17.77 98.966 27.765 199.906 37.637 300.846 11.846 0 23.692 1.974 35.539 1.974v-1.974z m-61.33-41.585c-1.974-15.795-3.948-33.565-7.897-49.483 0-3.949-1.974-3.949-3.949-3.949h-19.744c-8.02 1.975-15.918 1.975-25.79 3.949 9.872 53.432 21.718 106.863 31.713 160.295 11.847-1.974 23.693-1.974 35.54-3.949-1.975-13.82-1.975-25.667-3.95-37.513-1.974-21.842-3.948-45.534-5.923-69.35z m-445.222 0c-1.975-15.795-3.95-31.59-5.923-49.483 0-3.949-1.975-3.949-5.924-3.949-9.995 0-19.867 1.975-27.764 1.975-5.923 0-9.872 1.974-15.795 3.948 9.872 53.432 21.718 106.864 31.59 160.295 11.97-1.974 23.816-1.974 35.662-3.948v-1.975c-1.974-13.82-1.974-29.615-3.949-43.56-3.949-21.718-5.923-43.436-7.897-63.303z m126.607-41.585c0-5.924 0-5.924-5.923-5.924-13.821-1.974-27.642 0-43.56 0 5.923 55.406 9.872 108.838 15.918 162.27h35.54V678.2c0-49.483 0-98.966-1.975-150.423z m447.32 96.991c0-31.59-2.097-63.304-2.097-96.991 0-5.924 0-5.924-5.924-5.924-13.82-1.974-29.615 0-43.436 0 5.923 55.406 9.872 108.838 15.795 162.27H949.8v-3.949a259.631 259.631 0 0 0 0-55.406zM336.262 456.575c1.974 11.847 3.948 25.79 3.948 37.637l1.975 1.974c5.923 0 13.82 0 19.867-1.974 0-7.897-2.098-13.82-2.098-19.867-1.974-13.82-1.974-25.667-3.949-39.488l-1.974-1.974c-5.923-1.974-13.82-1.974-21.718 0v3.949c3.949 7.897 3.949 13.82 3.949 19.743z m453.243 39.611c5.923 0 13.821 0 19.744-1.974 0-7.897-1.974-13.82-1.974-21.842-1.975-11.846-1.975-25.666-3.949-37.513a1.974 1.974 0 0 0-1.974-1.974 40.968 40.968 0 0 0-21.842 0v1.974c1.974 19.744 3.949 39.488 7.898 59.355 0 1.974 2.097 1.974 2.097 1.974z m-308.743 1.975c0 1.974 0 1.974 1.974 1.974h19.744V444.73c0-3.949 0-3.949-3.949-5.923-5.923 0-11.846 0-17.77-1.974z m447.197 3.949h19.744v-59.355l-1.975-1.975c-7.897 0-13.82-1.974-21.718-1.974v1.974c0 19.744 0 39.611 1.974 59.355a1.974 1.974 0 0 0 1.975 1.975z m-595.646-3.95c1.974 0 1.974-1.974 1.974-3.948 0-5.923 0-11.846-1.974-15.795-1.974-11.97-3.949-25.79-5.923-37.637 0-1.974 0-3.948-3.949-1.974-5.923 0-11.846 1.974-17.893 1.974 4.072 19.744 8.021 41.586 11.97 61.33 5.923-1.975 9.872-3.95 15.795-3.95z m443.248 0a4.196 4.196 0 0 0 3.949-3.948c-1.974-11.846-1.974-21.842-3.949-33.688 0-5.923-1.974-13.82-3.949-19.744 0-1.974 0-3.948-1.974-3.948-5.923 0-11.846 1.974-19.744 1.974 3.95 19.744 7.898 41.585 11.847 61.33 3.948 0 9.871 0 13.82-1.975z m140.551 3.95l1.975-1.975V444.73c-1.975-1.974-1.975-3.949-3.949-3.949-5.923 0-13.82 0-19.867 1.975 2.098 19.744 2.098 41.585 4.072 61.329 5.923-1.974 11.846-1.974 17.77-1.974z m-445.222 0l1.974-1.975V444.73l-1.974-1.974c-6.047 0-13.944 0-19.868 1.974 1.975 19.744 1.975 41.586 3.95 61.33 5.922-3.95 9.871-3.95 15.918-3.95z" fill="#FFFFFF" p-id="13683">
                  </path>
                </svg>
              </span>
            </div>
            <span class="platform-name">{{ platform.label }}</span>
          </div>
        </div>
      </div>
      
      <!-- 二维码区域 -->
      <div class="qr-section">
        <div class="qr-code">
          <!-- 这里先用一个占位符，后续可以集成真实的二维码生成库 -->
          <div class="qr-placeholder">
            <div class="qr-grid">
              <div v-for="i in 25" :key="i" class="qr-cell" :class="{ filled: Math.random() > 0.5 }"></div>
            </div>
          </div>
        </div>
        <div class="qr-hint">
          {{ $t({ en: 'Scan the code with the corresponding platform to share', zh: '用对应平台进行扫码分享' }) }}
        </div>
      </div>
    </div>
  </UIFormModal>
</template>

<script setup lang="ts">
import { UIButton, UIFormModal, UITextInput } from '@/components/ui'
import { useMessageHandle } from '@/utils/exception'
import { computed, ref } from 'vue'
import { getProjectShareRoute } from '@/router'

const props = defineProps<{
  visible: boolean
  owner: string
  name: string
}>()

const emit = defineEmits<{
  cancelled: []
  resolved: []
}>()

const selectedPlatform = ref('qq')

const projectSharingLink = computed(() => {
  return `${location.origin}${getProjectShareRoute(props.owner, props.name)}`
})

const handleCopy = useMessageHandle(
  () => navigator.clipboard.writeText(projectSharingLink.value),
  { en: 'Failed to copy link to clipboard', zh: '分享链接复制到剪贴板失败' },
  { en: 'Link copied to clipboard', zh: '分享链接已复制到剪贴板' }
)

// 社交平台配置
const socialPlatforms = [
  {
    name: 'qq',
    label: 'QQ',
    color: '#FF6B35',
    symbol: 'Q'
  },
  {
    name: 'wechat',
    label: '微信',
    color: '#07C160',
    symbol: '微'
  },
  {
    name: 'douyin',
    label: '抖音',
    color: '#000000',
    symbol: '音'
  },
  {
    name: 'xiaohongshu',
    label: '小红书',
    color: '#FF2442',
    symbol: '红'
  },
  {
    name: 'bilibili',
    label: 'b站',
    color: '#FB7299',
    symbol: 'b'
  }
]
</script>

<style scoped lang="scss">
.share-content {
  padding: 20px 0;
}

.share-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--ui-color-title);
  text-align: center;
  margin-bottom: 24px;
}

.section-label {
  font-size: 14px;
  font-weight: 500;
  color: var(--ui-color-hint-1);
  margin-bottom: 12px;
}

.share-link-section {
  margin-bottom: 24px;
}

.link-container {
  display: flex;
  gap: 12px;
  align-items: center;
  border: 2px solid var(--ui-color-blue-main);
  border-radius: 8px;
  padding: 4px;
  background: var(--ui-color-blue-50);
}

.link-input {
  flex: 1;
  border: none;
  background: transparent;
  
  :deep(.input) {
    border: none;
    background: transparent;
    box-shadow: none;
  }
}

.copy-button {
  white-space: nowrap;
  border-radius: 6px;
}

.share-methods-section {
  margin-bottom: 24px;
}

.social-icons {
  display: flex;
  gap: 48px;
  justify-content: center;
}

.social-icon {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    transform: translateY(-2px);
  }
  
  &.active .icon-wrapper {
    border: 2px solid var(--ui-color-red-main);
  }
}

.icon-wrapper {
  width: 48px;
  height: 48px;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
  transition: all 0.2s ease;
  
  // 确保span标签不会影响布局
  span {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }
}

// 添加SVG图标样式
.icon {
  width: 42px;
  height: 42px;
  display: block; // 确保SVG作为块级元素
  flex-shrink: 0; // 防止SVG被压缩
}

.platform-name {
  font-size: 12px;
  color: var(--ui-color-hint-1);
}

.qr-section {
  text-align: center;
}

.qr-code {
  margin-bottom: 16px;
}

.qr-placeholder {
  width: 120px;
  height: 120px;
  margin: 0 auto;
  border: 2px solid var(--ui-color-grey-300);
  border-radius: 8px;
  padding: 8px;
  background: white;
}

.qr-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 2px;
  width: 100%;
  height: 100%;
}

.qr-cell {
  width: 100%;
  height: 100%;
  background: var(--ui-color-grey-200);
  border-radius: 1px;
  
  &.filled {
    background: var(--ui-color-grey-800);
  }
}

.qr-hint {
  font-size: 12px;
  color: var(--ui-color-hint-2);
  line-height: 1.4;
}
</style> 