// Code generated by xgo (XGo); DO NOT EDIT.

package main

import (
	"context"
	"errors"
	"github.com/getsentry/sentry-go"
	"github.com/goplus/builder/spx-backend/internal/authn"
	"github.com/goplus/builder/spx-backend/internal/authn/casdoor"
	"github.com/goplus/builder/spx-backend/internal/authz"
	"github.com/goplus/builder/spx-backend/internal/authz/embpdp"
	"github.com/goplus/builder/spx-backend/internal/authz/quota"
	"github.com/goplus/builder/spx-backend/internal/config"
	"github.com/goplus/builder/spx-backend/internal/controller"
	"github.com/goplus/builder/spx-backend/internal/log"
	"github.com/goplus/builder/spx-backend/internal/migration"
	"github.com/goplus/builder/spx-backend/internal/model"
	"github.com/goplus/yap"
	"net/http"
	"os/signal"
	"strconv"
	"syscall"
	"time"
)

const _ = true
const (
	firstPageIndex  = 1
	defaultPageSize = 10
)

type delete_asset_id struct {
	yap.Handler
	*AppV2
}
type delete_course_series_id struct {
	yap.Handler
	*AppV2
}
type delete_course_id struct {
	yap.Handler
	*AppV2
}
type delete_project_owner_name struct {
	yap.Handler
	*AppV2
}
type delete_project_owner_name_liking struct {
	yap.Handler
	*AppV2
}
type delete_recording_id struct {
	yap.Handler
	*AppV2
}
type delete_recording_id_liking struct {
	yap.Handler
	*AppV2
}
type delete_user_username_following struct {
	yap.Handler
	*AppV2
}
type get_asset_id struct {
	yap.Handler
	*AppV2
}
type get_assets_list struct {
	yap.Handler
	*AppV2
}
type get_course_series_id struct {
	yap.Handler
	*AppV2
}
type get_course_serieses_list struct {
	yap.Handler
	*AppV2
}
type get_course_id struct {
	yap.Handler
	*AppV2
}
type get_courses_list struct {
	yap.Handler
	*AppV2
}
type get_douyin_h5_config struct {
	yap.Handler
	*AppV2
}
type get_project_release_owner_project_release struct {
	yap.Handler
	*AppV2
}
type get_project_releases_list struct {
	yap.Handler
	*AppV2
}
type get_project_owner_name struct {
	yap.Handler
	*AppV2
}
type get_project_owner_name_liking struct {
	yap.Handler
	*AppV2
}
type get_projects_list struct {
	yap.Handler
	*AppV2
}
type get_recording_id struct {
	yap.Handler
	*AppV2
}
type get_recording_id_liking struct {
	yap.Handler
	*AppV2
}
type get_recordings_list struct {
	yap.Handler
	*AppV2
}
type get_user struct {
	yap.Handler
	*AppV2
}
type get_user_username struct {
	yap.Handler
	*AppV2
}
type get_user_username_following struct {
	yap.Handler
	*AppV2
}
type get_users_list struct {
	yap.Handler
	*AppV2
}
type get_util_upinfo struct {
	yap.Handler
	*AppV2
}
type AppV2 struct {
	yap.AppV2
	ctrl *controller.Controller
}
type post_ai_description struct {
	yap.Handler
	*AppV2
}
type post_ai_interaction_turn struct {
	yap.Handler
	*AppV2
}
type post_aigc_matting struct {
	yap.Handler
	*AppV2
}
type post_asset struct {
	yap.Handler
	*AppV2
}
type post_copilot_message struct {
	yap.Handler
	*AppV2
}
type post_copilot_stream_message struct {
	yap.Handler
	*AppV2
}
type post_course_series struct {
	yap.Handler
	*AppV2
}
type post_course struct {
	yap.Handler
	*AppV2
}
type post_project_release struct {
	yap.Handler
	*AppV2
}
type post_project struct {
	yap.Handler
	*AppV2
}
type post_project_owner_name_liking struct {
	yap.Handler
	*AppV2
}
type post_project_owner_name_view struct {
	yap.Handler
	*AppV2
}
type post_recording struct {
	yap.Handler
	*AppV2
}
type post_recording_id_liking struct {
	yap.Handler
	*AppV2
}
type post_recording_id_view struct {
	yap.Handler
	*AppV2
}
type post_user_username_following struct {
	yap.Handler
	*AppV2
}
type post_util_fileurls struct {
	yap.Handler
	*AppV2
}
type post_wechat_jssdk_config struct {
	yap.Handler
	*AppV2
}
type post_workflow_stream_message struct {
	yap.Handler
	*AppV2
}
type put_asset_id struct {
	yap.Handler
	*AppV2
}
type put_course_series_id struct {
	yap.Handler
	*AppV2
}
type put_course_id struct {
	yap.Handler
	*AppV2
}
type put_project_owner_name struct {
	yap.Handler
	*AppV2
}
type put_recording_id struct {
	yap.Handler
	*AppV2
}
type put_user struct {
	yap.Handler
	*AppV2
}
//line cmd/spx-backend/main.yap:33
func (this *AppV2) MainEntry() {
//line cmd/spx-backend/main.yap:33:1
	logger := log.GetLogger()
//line cmd/spx-backend/main.yap:36:1
	cfg, err := config.Load(logger)
//line cmd/spx-backend/main.yap:37:1
	if err != nil {
//line cmd/spx-backend/main.yap:38:1
		logger.Fatalln("failed to load configuration:", err)
	}
//line cmd/spx-backend/main.yap:42:1
	err = sentry.Init(sentry.ClientOptions{Dsn: cfg.Sentry.DSN, EnableTracing: true, TracesSampleRate: cfg.Sentry.SampleRate})
//line cmd/spx-backend/main.yap:47:1
	if err != nil {
//line cmd/spx-backend/main.yap:48:1
		logger.Fatalln("failed to initialize sentry:", err)
	}
//line cmd/spx-backend/main.yap:50:1
	defer sentry.Flush(10 * time.Second)
//line cmd/spx-backend/main.yap:53:1
	if cfg.Database.AutoMigrate {
//line cmd/spx-backend/main.yap:54:1
		migrator := migration.New(cfg.Database.DSN, cfg.Database.GetMigrationTimeout())
//line cmd/spx-backend/main.yap:55:1
		if
//line cmd/spx-backend/main.yap:55:1
		err := migrator.Migrate(); err != nil {
//line cmd/spx-backend/main.yap:56:1
			logger.Fatalln("failed to migrate database:", err)
		}
	}
//line cmd/spx-backend/main.yap:61:1
	db, err := model.OpenDB(context.Background(), cfg.Database.DSN, 0, 0)
//line cmd/spx-backend/main.yap:62:1
	if err != nil {
//line cmd/spx-backend/main.yap:63:1
		logger.Fatalln("failed to open database:", err)
	}
//line cmd/spx-backend/main.yap:68:1
	authenticator := casdoor.New(db, cfg.Casdoor)
//line cmd/spx-backend/main.yap:70:1
	// Initialize authorizer.
	var quotaTracker authz.QuotaTracker
//line cmd/spx-backend/main.yap:72:1
	if cfg.Redis.Addr != "" {
//line cmd/spx-backend/main.yap:73:1
		quotaTracker = quota.NewRedisQuotaTracker(cfg.Redis)
//line cmd/spx-backend/main.yap:74:1
		logger.Printf("using redis quota tracker at %s", cfg.Redis.GetAddr())
	} else {
//line cmd/spx-backend/main.yap:76:1
		quotaTracker = quota.NewNopQuotaTracker()
//line cmd/spx-backend/main.yap:77:1
		logger.Println("using no-op quota tracker")
	}
//line cmd/spx-backend/main.yap:79:1
	pdp := embpdp.New(quotaTracker)
//line cmd/spx-backend/main.yap:80:1
	authorizer := authz.New(db, pdp, quotaTracker)
//line cmd/spx-backend/main.yap:83:1
	this.ctrl, err = controller.New(context.Background(), db, cfg)
//line cmd/spx-backend/main.yap:84:1
	if err != nil {
//line cmd/spx-backend/main.yap:85:1
		logger.Fatalln("failed to create a new controller:", err)
	}
//line cmd/spx-backend/main.yap:90:1
	port := cfg.Server.GetPort()
//line cmd/spx-backend/main.yap:91:1
	logger.Printf("listening to %s", port)
//line cmd/spx-backend/main.yap:93:1
	h := this.Handler(authorizer.Middleware(), authn.Middleware(authenticator), NewCORSMiddleware(), NewReqIDMiddleware(), NewSentryMiddleware())
//line cmd/spx-backend/main.yap:100:1
	server := &http.Server{Addr: port, Handler: h}
//line cmd/spx-backend/main.yap:102:1
	stopCtx, stop := signal.NotifyContext(context.Background(), syscall.SIGINT, syscall.SIGTERM)
//line cmd/spx-backend/main.yap:103:1
	defer stop()
//line cmd/spx-backend/main.yap:104:1
	var serverErr error
//line cmd/spx-backend/main.yap:105:1
	go func() {
//line cmd/spx-backend/main.yap:106:1
		serverErr = server.ListenAndServe()
//line cmd/spx-backend/main.yap:107:1
		stop()
	}()
//line cmd/spx-backend/main.yap:109:1
	<-stopCtx.Done()
//line cmd/spx-backend/main.yap:110:1
	if serverErr != nil && !errors.Is(serverErr, http.ErrServerClosed) {
//line cmd/spx-backend/main.yap:111:1
		logger.Fatalln("server error:", serverErr)
	}
//line cmd/spx-backend/main.yap:114:1
	shutdownCtx, cancel := context.WithTimeout(context.Background(), time.Minute)
//line cmd/spx-backend/main.yap:115:1
	defer cancel()
//line cmd/spx-backend/main.yap:116:1
	if
//line cmd/spx-backend/main.yap:116:1
	err := server.Shutdown(shutdownCtx); err != nil {
//line cmd/spx-backend/main.yap:117:1
		logger.Fatalln("failed to gracefully shut down:", err)
	}
}
func (this *AppV2) Main() {
	_xgo_obj0 := &delete_asset_id{AppV2: this}
	_xgo_obj1 := &delete_course_series_id{AppV2: this}
	_xgo_obj2 := &delete_course_id{AppV2: this}
	_xgo_obj3 := &delete_project_owner_name{AppV2: this}
	_xgo_obj4 := &delete_project_owner_name_liking{AppV2: this}
	_xgo_obj5 := &delete_recording_id{AppV2: this}
	_xgo_obj6 := &delete_recording_id_liking{AppV2: this}
	_xgo_obj7 := &delete_user_username_following{AppV2: this}
	_xgo_obj8 := &get_asset_id{AppV2: this}
	_xgo_obj9 := &get_assets_list{AppV2: this}
	_xgo_obj10 := &get_course_series_id{AppV2: this}
	_xgo_obj11 := &get_course_serieses_list{AppV2: this}
	_xgo_obj12 := &get_course_id{AppV2: this}
	_xgo_obj13 := &get_courses_list{AppV2: this}
	_xgo_obj14 := &get_douyin_h5_config{AppV2: this}
	_xgo_obj15 := &get_project_release_owner_project_release{AppV2: this}
	_xgo_obj16 := &get_project_releases_list{AppV2: this}
	_xgo_obj17 := &get_project_owner_name{AppV2: this}
	_xgo_obj18 := &get_project_owner_name_liking{AppV2: this}
	_xgo_obj19 := &get_projects_list{AppV2: this}
	_xgo_obj20 := &get_recording_id{AppV2: this}
	_xgo_obj21 := &get_recording_id_liking{AppV2: this}
	_xgo_obj22 := &get_recordings_list{AppV2: this}
	_xgo_obj23 := &get_user{AppV2: this}
	_xgo_obj24 := &get_user_username{AppV2: this}
	_xgo_obj25 := &get_user_username_following{AppV2: this}
	_xgo_obj26 := &get_users_list{AppV2: this}
	_xgo_obj27 := &get_util_upinfo{AppV2: this}
	_xgo_obj28 := &post_ai_description{AppV2: this}
	_xgo_obj29 := &post_ai_interaction_turn{AppV2: this}
	_xgo_obj30 := &post_aigc_matting{AppV2: this}
	_xgo_obj31 := &post_asset{AppV2: this}
	_xgo_obj32 := &post_copilot_message{AppV2: this}
	_xgo_obj33 := &post_copilot_stream_message{AppV2: this}
	_xgo_obj34 := &post_course_series{AppV2: this}
	_xgo_obj35 := &post_course{AppV2: this}
	_xgo_obj36 := &post_project_release{AppV2: this}
	_xgo_obj37 := &post_project{AppV2: this}
	_xgo_obj38 := &post_project_owner_name_liking{AppV2: this}
	_xgo_obj39 := &post_project_owner_name_view{AppV2: this}
	_xgo_obj40 := &post_recording{AppV2: this}
	_xgo_obj41 := &post_recording_id_liking{AppV2: this}
	_xgo_obj42 := &post_recording_id_view{AppV2: this}
	_xgo_obj43 := &post_user_username_following{AppV2: this}
	_xgo_obj44 := &post_util_fileurls{AppV2: this}
	_xgo_obj45 := &post_wechat_jssdk_config{AppV2: this}
	_xgo_obj46 := &post_workflow_stream_message{AppV2: this}
	_xgo_obj47 := &put_asset_id{AppV2: this}
	_xgo_obj48 := &put_course_series_id{AppV2: this}
	_xgo_obj49 := &put_course_id{AppV2: this}
	_xgo_obj50 := &put_project_owner_name{AppV2: this}
	_xgo_obj51 := &put_recording_id{AppV2: this}
	_xgo_obj52 := &put_user{AppV2: this}
	yap.Gopt_AppV2_Main(this, _xgo_obj0, _xgo_obj1, _xgo_obj2, _xgo_obj3, _xgo_obj4, _xgo_obj5, _xgo_obj6, _xgo_obj7, _xgo_obj8, _xgo_obj9, _xgo_obj10, _xgo_obj11, _xgo_obj12, _xgo_obj13, _xgo_obj14, _xgo_obj15, _xgo_obj16, _xgo_obj17, _xgo_obj18, _xgo_obj19, _xgo_obj20, _xgo_obj21, _xgo_obj22, _xgo_obj23, _xgo_obj24, _xgo_obj25, _xgo_obj26, _xgo_obj27, _xgo_obj28, _xgo_obj29, _xgo_obj30, _xgo_obj31, _xgo_obj32, _xgo_obj33, _xgo_obj34, _xgo_obj35, _xgo_obj36, _xgo_obj37, _xgo_obj38, _xgo_obj39, _xgo_obj40, _xgo_obj41, _xgo_obj42, _xgo_obj43, _xgo_obj44, _xgo_obj45, _xgo_obj46, _xgo_obj47, _xgo_obj48, _xgo_obj49, _xgo_obj50, _xgo_obj51, _xgo_obj52)
}
//line cmd/spx-backend/delete_asset_#id.yap:6
func (this *delete_asset_id) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/delete_asset_#id.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/delete_asset_#id.yap:7:1
	if
//line cmd/spx-backend/delete_asset_#id.yap:7:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/delete_asset_#id.yap:8:1
		return
	}
//line cmd/spx-backend/delete_asset_#id.yap:11:1
	if
//line cmd/spx-backend/delete_asset_#id.yap:11:1
	err := this.ctrl.DeleteAsset(ctx.Context(), this.Gop_Env("id")); err != nil {
//line cmd/spx-backend/delete_asset_#id.yap:12:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/delete_asset_#id.yap:13:1
		return
	}
//line cmd/spx-backend/delete_asset_#id.yap:15:1
	this.Text__0(204, "", "")
}
func (this *delete_asset_id) Classfname() string {
	return "delete_asset_#id"
}
func (this *delete_asset_id) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/delete_course-series_#id.yap:10
func (this *delete_course_series_id) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/delete_course-series_#id.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/delete_course-series_#id.yap:11:1
	if
//line cmd/spx-backend/delete_course-series_#id.yap:11:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/delete_course-series_#id.yap:12:1
		return
	}
//line cmd/spx-backend/delete_course-series_#id.yap:15:1
	if !authz.CanManageCourses(ctx.Context()) {
//line cmd/spx-backend/delete_course-series_#id.yap:16:1
		replyWithCodeMsg(ctx, errorForbidden, "You are not allowed to delete course series")
//line cmd/spx-backend/delete_course-series_#id.yap:17:1
		return
	}
//line cmd/spx-backend/delete_course-series_#id.yap:20:1
	err := this.ctrl.DeleteCourseSeries(ctx.Context(), this.Gop_Env("id"))
//line cmd/spx-backend/delete_course-series_#id.yap:21:1
	if err != nil {
//line cmd/spx-backend/delete_course-series_#id.yap:22:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/delete_course-series_#id.yap:23:1
		return
	}
//line cmd/spx-backend/delete_course-series_#id.yap:25:1
	this.Text__0(204, "", "")
}
func (this *delete_course_series_id) Classfname() string {
	return "delete_course-series_#id"
}
func (this *delete_course_series_id) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/delete_course_#id.yap:10
func (this *delete_course_id) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/delete_course_#id.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/delete_course_#id.yap:11:1
	if
//line cmd/spx-backend/delete_course_#id.yap:11:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/delete_course_#id.yap:12:1
		return
	}
//line cmd/spx-backend/delete_course_#id.yap:15:1
	if !authz.CanManageCourses(ctx.Context()) {
//line cmd/spx-backend/delete_course_#id.yap:16:1
		replyWithCodeMsg(ctx, errorForbidden, "You are not allowed to delete courses")
//line cmd/spx-backend/delete_course_#id.yap:17:1
		return
	}
//line cmd/spx-backend/delete_course_#id.yap:20:1
	err := this.ctrl.DeleteCourse(ctx.Context(), this.Gop_Env("id"))
//line cmd/spx-backend/delete_course_#id.yap:21:1
	if err != nil {
//line cmd/spx-backend/delete_course_#id.yap:22:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/delete_course_#id.yap:23:1
		return
	}
//line cmd/spx-backend/delete_course_#id.yap:25:1
	this.Text__0(204, "", "")
}
func (this *delete_course_id) Classfname() string {
	return "delete_course_#id"
}
func (this *delete_course_id) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/delete_project_#owner_#name.yap:10
func (this *delete_project_owner_name) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/delete_project_#owner_#name.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/delete_project_#owner_#name.yap:11:1
	if
//line cmd/spx-backend/delete_project_#owner_#name.yap:11:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/delete_project_#owner_#name.yap:12:1
		return
	}
//line cmd/spx-backend/delete_project_#owner_#name.yap:15:1
	projectFullName := controller.ProjectFullName{Owner: this.Gop_Env("owner"), Project: this.Gop_Env("name")}
//line cmd/spx-backend/delete_project_#owner_#name.yap:16:1
	if
//line cmd/spx-backend/delete_project_#owner_#name.yap:16:1
	err := this.ctrl.DeleteProject(ctx.Context(), projectFullName); err != nil {
//line cmd/spx-backend/delete_project_#owner_#name.yap:17:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/delete_project_#owner_#name.yap:18:1
		return
	}
//line cmd/spx-backend/delete_project_#owner_#name.yap:20:1
	this.Text__0(204, "", "")
}
func (this *delete_project_owner_name) Classfname() string {
	return "delete_project_#owner_#name"
}
func (this *delete_project_owner_name) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/delete_project_#owner_#name_liking.yap:10
func (this *delete_project_owner_name_liking) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/delete_project_#owner_#name_liking.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/delete_project_#owner_#name_liking.yap:11:1
	if
//line cmd/spx-backend/delete_project_#owner_#name_liking.yap:11:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/delete_project_#owner_#name_liking.yap:12:1
		return
	}
//line cmd/spx-backend/delete_project_#owner_#name_liking.yap:15:1
	projectFullName := controller.ProjectFullName{Owner: this.Gop_Env("owner"), Project: this.Gop_Env("name")}
//line cmd/spx-backend/delete_project_#owner_#name_liking.yap:16:1
	if
//line cmd/spx-backend/delete_project_#owner_#name_liking.yap:16:1
	err := this.ctrl.UnlikeProject(ctx.Context(), projectFullName); err != nil {
//line cmd/spx-backend/delete_project_#owner_#name_liking.yap:17:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/delete_project_#owner_#name_liking.yap:18:1
		return
	}
//line cmd/spx-backend/delete_project_#owner_#name_liking.yap:20:1
	this.Text__0(204, "", "")
}
func (this *delete_project_owner_name_liking) Classfname() string {
	return "delete_project_#owner_#name_liking"
}
func (this *delete_project_owner_name_liking) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/delete_recording_#id.yap:6
func (this *delete_recording_id) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/delete_recording_#id.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/delete_recording_#id.yap:7:1
	if
//line cmd/spx-backend/delete_recording_#id.yap:7:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/delete_recording_#id.yap:8:1
		return
	}
//line cmd/spx-backend/delete_recording_#id.yap:11:1
	if
//line cmd/spx-backend/delete_recording_#id.yap:11:1
	err := this.ctrl.DeleteRecording(ctx.Context(), this.Gop_Env("id")); err != nil {
//line cmd/spx-backend/delete_recording_#id.yap:12:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/delete_recording_#id.yap:13:1
		return
	}
//line cmd/spx-backend/delete_recording_#id.yap:15:1
	this.Text__0(204, "", "")
}
func (this *delete_recording_id) Classfname() string {
	return "delete_recording_#id"
}
func (this *delete_recording_id) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/delete_recording_#id_liking.yap:6
func (this *delete_recording_id_liking) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/delete_recording_#id_liking.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/delete_recording_#id_liking.yap:7:1
	if
//line cmd/spx-backend/delete_recording_#id_liking.yap:7:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/delete_recording_#id_liking.yap:8:1
		return
	}
//line cmd/spx-backend/delete_recording_#id_liking.yap:11:1
	if
//line cmd/spx-backend/delete_recording_#id_liking.yap:11:1
	err := this.ctrl.UnlikeRecording(ctx.Context(), this.Gop_Env("id")); err != nil {
//line cmd/spx-backend/delete_recording_#id_liking.yap:12:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/delete_recording_#id_liking.yap:13:1
		return
	}
//line cmd/spx-backend/delete_recording_#id_liking.yap:15:1
	this.Text__0(204, "", "")
}
func (this *delete_recording_id_liking) Classfname() string {
	return "delete_recording_#id_liking"
}
func (this *delete_recording_id_liking) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/delete_user_#username_following.yap:6
func (this *delete_user_username_following) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/delete_user_#username_following.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/delete_user_#username_following.yap:7:1
	if
//line cmd/spx-backend/delete_user_#username_following.yap:7:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/delete_user_#username_following.yap:8:1
		return
	}
//line cmd/spx-backend/delete_user_#username_following.yap:11:1
	if
//line cmd/spx-backend/delete_user_#username_following.yap:11:1
	err := this.ctrl.UnfollowUser(ctx.Context(), this.Gop_Env("username")); err != nil {
//line cmd/spx-backend/delete_user_#username_following.yap:12:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/delete_user_#username_following.yap:13:1
		return
	}
//line cmd/spx-backend/delete_user_#username_following.yap:15:1
	this.Text__0(204, "", "")
}
func (this *delete_user_username_following) Classfname() string {
	return "delete_user_#username_following"
}
func (this *delete_user_username_following) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_asset_#id.yap:6
func (this *get_asset_id) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_asset_#id.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/get_asset_#id.yap:8:1
	asset, err := this.ctrl.GetAsset(ctx.Context(), this.Gop_Env("id"))
//line cmd/spx-backend/get_asset_#id.yap:9:1
	if err != nil {
//line cmd/spx-backend/get_asset_#id.yap:10:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_asset_#id.yap:11:1
		return
	}
//line cmd/spx-backend/get_asset_#id.yap:13:1
	this.Json__1(asset)
}
func (this *get_asset_id) Classfname() string {
	return "get_asset_#id"
}
func (this *get_asset_id) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_assets_list.yap:11
func (this *get_assets_list) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_assets_list.yap:11:1
	ctx := &this.Context
//line cmd/spx-backend/get_assets_list.yap:13:1
	params := controller.NewListAssetsParams()
//line cmd/spx-backend/get_assets_list.yap:15:1
	if
//line cmd/spx-backend/get_assets_list.yap:15:1
	keyword := this.Gop_Env("keyword"); keyword != "" {
//line cmd/spx-backend/get_assets_list.yap:16:1
		params.Keyword = &keyword
	}
//line cmd/spx-backend/get_assets_list.yap:19:1
	switch
//line cmd/spx-backend/get_assets_list.yap:19:1
	owner := this.Gop_Env("owner"); owner {
//line cmd/spx-backend/get_assets_list.yap:20:1
	case "":
//line cmd/spx-backend/get_assets_list.yap:21:1
		mUser, ok := ensureAuthenticatedUser(ctx)
//line cmd/spx-backend/get_assets_list.yap:22:1
		if !ok {
//line cmd/spx-backend/get_assets_list.yap:23:1
			return
		}
//line cmd/spx-backend/get_assets_list.yap:25:1
		params.Owner = &mUser.Username
//line cmd/spx-backend/get_assets_list.yap:26:1
	case "*":
//line cmd/spx-backend/get_assets_list.yap:27:1
		params.Owner = nil
//line cmd/spx-backend/get_assets_list.yap:28:1
	default:
//line cmd/spx-backend/get_assets_list.yap:29:1
		params.Owner = &owner
	}
//line cmd/spx-backend/get_assets_list.yap:32:1
	if
//line cmd/spx-backend/get_assets_list.yap:32:1
	typeParam := ctx.Param("type"); typeParam != "" {
//line cmd/spx-backend/get_assets_list.yap:33:1
		at, err := model.ParseAssetType(typeParam)
//line cmd/spx-backend/get_assets_list.yap:34:1
		if err != nil {
//line cmd/spx-backend/get_assets_list.yap:35:1
			replyWithCodeMsg(ctx, errorInvalidArgs, "invalid type")
//line cmd/spx-backend/get_assets_list.yap:36:1
			return
		}
//line cmd/spx-backend/get_assets_list.yap:38:1
		params.Type = &at
	}
//line cmd/spx-backend/get_assets_list.yap:41:1
	if
//line cmd/spx-backend/get_assets_list.yap:41:1
	category := this.Gop_Env("category"); category != "" {
//line cmd/spx-backend/get_assets_list.yap:42:1
		params.Category = &category
	}
//line cmd/spx-backend/get_assets_list.yap:45:1
	if
//line cmd/spx-backend/get_assets_list.yap:45:1
	filesHash := this.Gop_Env("filesHash"); filesHash != "" {
//line cmd/spx-backend/get_assets_list.yap:46:1
		params.FilesHash = &filesHash
	}
//line cmd/spx-backend/get_assets_list.yap:49:1
	if
//line cmd/spx-backend/get_assets_list.yap:49:1
	visibility := this.Gop_Env("visibility"); visibility != "" {
//line cmd/spx-backend/get_assets_list.yap:50:1
		v, err := model.ParseVisibility(visibility)
//line cmd/spx-backend/get_assets_list.yap:51:1
		if err != nil {
//line cmd/spx-backend/get_assets_list.yap:52:1
			replyWithCodeMsg(ctx, errorInvalidArgs, "invalid visibility")
//line cmd/spx-backend/get_assets_list.yap:53:1
			return
		}
//line cmd/spx-backend/get_assets_list.yap:55:1
		params.Visibility = &v
	}
//line cmd/spx-backend/get_assets_list.yap:58:1
	if
//line cmd/spx-backend/get_assets_list.yap:58:1
	orderBy := this.Gop_Env("orderBy"); orderBy != "" {
//line cmd/spx-backend/get_assets_list.yap:59:1
		params.OrderBy = controller.ListAssetsOrderBy(orderBy)
	}
//line cmd/spx-backend/get_assets_list.yap:61:1
	if
//line cmd/spx-backend/get_assets_list.yap:61:1
	sortOrder := this.Gop_Env("sortOrder"); sortOrder != "" {
//line cmd/spx-backend/get_assets_list.yap:62:1
		params.SortOrder = controller.SortOrder(sortOrder)
	}
//line cmd/spx-backend/get_assets_list.yap:65:1
	params.Pagination.Index = ctx.ParamInt("pageIndex", firstPageIndex)
//line cmd/spx-backend/get_assets_list.yap:66:1
	params.Pagination.Size = ctx.ParamInt("pageSize", defaultPageSize)
//line cmd/spx-backend/get_assets_list.yap:67:1
	if
//line cmd/spx-backend/get_assets_list.yap:67:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/get_assets_list.yap:68:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/get_assets_list.yap:69:1
		return
	}
//line cmd/spx-backend/get_assets_list.yap:72:1
	assets, err := this.ctrl.ListAssets(ctx.Context(), params)
//line cmd/spx-backend/get_assets_list.yap:73:1
	if err != nil {
//line cmd/spx-backend/get_assets_list.yap:74:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_assets_list.yap:75:1
		return
	}
//line cmd/spx-backend/get_assets_list.yap:77:1
	this.Json__1(assets)
}
func (this *get_assets_list) Classfname() string {
	return "get_assets_list"
}
func (this *get_assets_list) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_course-series_#id.yap:6
func (this *get_course_series_id) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_course-series_#id.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/get_course-series_#id.yap:8:1
	courseSeries, err := this.ctrl.GetCourseSeries(ctx.Context(), this.Gop_Env("id"))
//line cmd/spx-backend/get_course-series_#id.yap:9:1
	if err != nil {
//line cmd/spx-backend/get_course-series_#id.yap:10:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_course-series_#id.yap:11:1
		return
	}
//line cmd/spx-backend/get_course-series_#id.yap:13:1
	this.Json__1(courseSeries)
}
func (this *get_course_series_id) Classfname() string {
	return "get_course-series_#id"
}
func (this *get_course_series_id) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_course-serieses_list.yap:11
func (this *get_course_serieses_list) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_course-serieses_list.yap:11:1
	ctx := &this.Context
//line cmd/spx-backend/get_course-serieses_list.yap:13:1
	params := controller.NewListCourseSeriesParams()
//line cmd/spx-backend/get_course-serieses_list.yap:15:1
	switch
//line cmd/spx-backend/get_course-serieses_list.yap:15:1
	owner := this.Gop_Env("owner"); owner {
//line cmd/spx-backend/get_course-serieses_list.yap:16:1
	case "":
//line cmd/spx-backend/get_course-serieses_list.yap:17:1
		mUser, ok := ensureAuthenticatedUser(ctx)
//line cmd/spx-backend/get_course-serieses_list.yap:18:1
		if !ok {
//line cmd/spx-backend/get_course-serieses_list.yap:19:1
			return
		}
//line cmd/spx-backend/get_course-serieses_list.yap:21:1
		params.Owner = &mUser.Username
//line cmd/spx-backend/get_course-serieses_list.yap:22:1
	case "*":
//line cmd/spx-backend/get_course-serieses_list.yap:23:1
		params.Owner = nil
//line cmd/spx-backend/get_course-serieses_list.yap:24:1
	default:
//line cmd/spx-backend/get_course-serieses_list.yap:25:1
		params.Owner = &owner
	}
//line cmd/spx-backend/get_course-serieses_list.yap:28:1
	if
//line cmd/spx-backend/get_course-serieses_list.yap:28:1
	orderBy := this.Gop_Env("orderBy"); orderBy != "" {
//line cmd/spx-backend/get_course-serieses_list.yap:29:1
		params.OrderBy = controller.ListCourseSeriesOrderBy(orderBy)
	}
//line cmd/spx-backend/get_course-serieses_list.yap:31:1
	if
//line cmd/spx-backend/get_course-serieses_list.yap:31:1
	sortOrder := this.Gop_Env("sortOrder"); sortOrder != "" {
//line cmd/spx-backend/get_course-serieses_list.yap:32:1
		params.SortOrder = controller.SortOrder(sortOrder)
	}
//line cmd/spx-backend/get_course-serieses_list.yap:35:1
	params.Pagination.Index = this.ParamInt("pageIndex", firstPageIndex)
//line cmd/spx-backend/get_course-serieses_list.yap:36:1
	params.Pagination.Size = this.ParamInt("pageSize", defaultPageSize)
//line cmd/spx-backend/get_course-serieses_list.yap:37:1
	if
//line cmd/spx-backend/get_course-serieses_list.yap:37:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/get_course-serieses_list.yap:38:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/get_course-serieses_list.yap:39:1
		return
	}
//line cmd/spx-backend/get_course-serieses_list.yap:42:1
	courseSeries, err := this.ctrl.ListCourseSeries(ctx.Context(), params)
//line cmd/spx-backend/get_course-serieses_list.yap:43:1
	if err != nil {
//line cmd/spx-backend/get_course-serieses_list.yap:44:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_course-serieses_list.yap:45:1
		return
	}
//line cmd/spx-backend/get_course-serieses_list.yap:47:1
	this.Json__1(courseSeries)
}
func (this *get_course_serieses_list) Classfname() string {
	return "get_course-serieses_list"
}
func (this *get_course_serieses_list) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_course_#id.yap:6
func (this *get_course_id) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_course_#id.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/get_course_#id.yap:8:1
	course, err := this.ctrl.GetCourse(ctx.Context(), this.Gop_Env("id"))
//line cmd/spx-backend/get_course_#id.yap:9:1
	if err != nil {
//line cmd/spx-backend/get_course_#id.yap:10:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_course_#id.yap:11:1
		return
	}
//line cmd/spx-backend/get_course_#id.yap:13:1
	this.Json__1(course)
}
func (this *get_course_id) Classfname() string {
	return "get_course_#id"
}
func (this *get_course_id) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_courses_list.yap:11
func (this *get_courses_list) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_courses_list.yap:11:1
	ctx := &this.Context
//line cmd/spx-backend/get_courses_list.yap:13:1
	params := controller.NewListCoursesParams()
//line cmd/spx-backend/get_courses_list.yap:15:1
	if
//line cmd/spx-backend/get_courses_list.yap:15:1
	courseSeriesID := this.Gop_Env("courseSeriesID"); courseSeriesID != "" {
//line cmd/spx-backend/get_courses_list.yap:16:1
		params.CourseSeriesID = &courseSeriesID
	}
//line cmd/spx-backend/get_courses_list.yap:19:1
	switch
//line cmd/spx-backend/get_courses_list.yap:19:1
	owner := this.Gop_Env("owner"); owner {
//line cmd/spx-backend/get_courses_list.yap:20:1
	case "":
//line cmd/spx-backend/get_courses_list.yap:21:1
		mUser, ok := ensureAuthenticatedUser(ctx)
//line cmd/spx-backend/get_courses_list.yap:22:1
		if !ok {
//line cmd/spx-backend/get_courses_list.yap:23:1
			return
		}
//line cmd/spx-backend/get_courses_list.yap:25:1
		params.Owner = &mUser.Username
//line cmd/spx-backend/get_courses_list.yap:26:1
	case "*":
//line cmd/spx-backend/get_courses_list.yap:27:1
		params.Owner = nil
//line cmd/spx-backend/get_courses_list.yap:28:1
	default:
//line cmd/spx-backend/get_courses_list.yap:29:1
		params.Owner = &owner
	}
//line cmd/spx-backend/get_courses_list.yap:32:1
	if
//line cmd/spx-backend/get_courses_list.yap:32:1
	orderBy := this.Gop_Env("orderBy"); orderBy != "" {
//line cmd/spx-backend/get_courses_list.yap:33:1
		params.OrderBy = controller.ListCoursesOrderBy(orderBy)
	}
//line cmd/spx-backend/get_courses_list.yap:35:1
	if
//line cmd/spx-backend/get_courses_list.yap:35:1
	sortOrder := this.Gop_Env("sortOrder"); sortOrder != "" {
//line cmd/spx-backend/get_courses_list.yap:36:1
		params.SortOrder = controller.SortOrder(sortOrder)
	}
//line cmd/spx-backend/get_courses_list.yap:39:1
	params.Pagination.Index = this.ParamInt("pageIndex", firstPageIndex)
//line cmd/spx-backend/get_courses_list.yap:40:1
	params.Pagination.Size = this.ParamInt("pageSize", defaultPageSize)
//line cmd/spx-backend/get_courses_list.yap:41:1
	if
//line cmd/spx-backend/get_courses_list.yap:41:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/get_courses_list.yap:42:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/get_courses_list.yap:43:1
		return
	}
//line cmd/spx-backend/get_courses_list.yap:46:1
	courses, err := this.ctrl.ListCourses(ctx.Context(), params)
//line cmd/spx-backend/get_courses_list.yap:47:1
	if err != nil {
//line cmd/spx-backend/get_courses_list.yap:48:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_courses_list.yap:49:1
		return
	}
//line cmd/spx-backend/get_courses_list.yap:51:1
	this.Json__1(courses)
}
func (this *get_courses_list) Classfname() string {
	return "get_courses_list"
}
func (this *get_courses_list) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_douyin_h5-config.yap:6
func (this *get_douyin_h5_config) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_douyin_h5-config.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/get_douyin_h5-config.yap:8:1
	result, err := this.ctrl.GetDouyinH5Config(ctx.Context())
//line cmd/spx-backend/get_douyin_h5-config.yap:9:1
	if err != nil {
//line cmd/spx-backend/get_douyin_h5-config.yap:10:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_douyin_h5-config.yap:11:1
		return
	}
//line cmd/spx-backend/get_douyin_h5-config.yap:13:1
	this.Json__1(result)
}
func (this *get_douyin_h5_config) Classfname() string {
	return "get_douyin_h5-config"
}
func (this *get_douyin_h5_config) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_project-release_#owner_#project_#release.yap:10
func (this *get_project_release_owner_project_release) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_project-release_#owner_#project_#release.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/get_project-release_#owner_#project_#release.yap:12:1
	projectFullName := controller.ProjectFullName{Owner: this.Gop_Env("owner"), Project: this.Gop_Env("name")}
//line cmd/spx-backend/get_project-release_#owner_#project_#release.yap:13:1
	projectReleaseFullName := controller.ProjectReleaseFullName{ProjectFullName: projectFullName, Release: this.Gop_Env("release")}
//line cmd/spx-backend/get_project-release_#owner_#project_#release.yap:14:1
	projectRelease, err := this.ctrl.GetProjectRelease(ctx.Context(), projectReleaseFullName)
//line cmd/spx-backend/get_project-release_#owner_#project_#release.yap:15:1
	if err != nil {
//line cmd/spx-backend/get_project-release_#owner_#project_#release.yap:16:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_project-release_#owner_#project_#release.yap:17:1
		return
	}
//line cmd/spx-backend/get_project-release_#owner_#project_#release.yap:19:1
	this.Json__1(projectRelease)
}
func (this *get_project_release_owner_project_release) Classfname() string {
	return "get_project-release_#owner_#project_#release"
}
func (this *get_project_release_owner_project_release) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_project-releases_list.yap:10
func (this *get_project_releases_list) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_project-releases_list.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/get_project-releases_list.yap:12:1
	params := controller.NewListProjectReleasesParams()
//line cmd/spx-backend/get_project-releases_list.yap:14:1
	if
//line cmd/spx-backend/get_project-releases_list.yap:14:1
	projectFullName := this.Gop_Env("projectFullName"); projectFullName != "" {
//line cmd/spx-backend/get_project-releases_list.yap:15:1
		pfn, err := controller.ParseProjectFullName(projectFullName)
//line cmd/spx-backend/get_project-releases_list.yap:16:1
		if err != nil {
//line cmd/spx-backend/get_project-releases_list.yap:17:1
			replyWithCodeMsg(ctx, errorInvalidArgs, "invalid projectFullName")
//line cmd/spx-backend/get_project-releases_list.yap:18:1
			return
		}
//line cmd/spx-backend/get_project-releases_list.yap:20:1
		params.ProjectFullName = &pfn
	}
//line cmd/spx-backend/get_project-releases_list.yap:23:1
	if
//line cmd/spx-backend/get_project-releases_list.yap:23:1
	orderBy := this.Gop_Env("orderBy"); orderBy != "" {
//line cmd/spx-backend/get_project-releases_list.yap:24:1
		params.OrderBy = controller.ListProjectReleasesOrderBy(orderBy)
	}
//line cmd/spx-backend/get_project-releases_list.yap:26:1
	if
//line cmd/spx-backend/get_project-releases_list.yap:26:1
	sortOrder := this.Gop_Env("sortOrder"); sortOrder != "" {
//line cmd/spx-backend/get_project-releases_list.yap:27:1
		params.SortOrder = controller.SortOrder(sortOrder)
	}
//line cmd/spx-backend/get_project-releases_list.yap:30:1
	params.Pagination.Index = ctx.ParamInt("pageIndex", firstPageIndex)
//line cmd/spx-backend/get_project-releases_list.yap:31:1
	params.Pagination.Size = ctx.ParamInt("pageSize", defaultPageSize)
//line cmd/spx-backend/get_project-releases_list.yap:32:1
	if
//line cmd/spx-backend/get_project-releases_list.yap:32:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/get_project-releases_list.yap:33:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/get_project-releases_list.yap:34:1
		return
	}
//line cmd/spx-backend/get_project-releases_list.yap:37:1
	projectReleases, err := this.ctrl.ListProjectReleases(ctx.Context(), params)
//line cmd/spx-backend/get_project-releases_list.yap:38:1
	if err != nil {
//line cmd/spx-backend/get_project-releases_list.yap:39:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_project-releases_list.yap:40:1
		return
	}
//line cmd/spx-backend/get_project-releases_list.yap:42:1
	this.Json__1(projectReleases)
}
func (this *get_project_releases_list) Classfname() string {
	return "get_project-releases_list"
}
func (this *get_project_releases_list) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_project_#owner_#name.yap:10
func (this *get_project_owner_name) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_project_#owner_#name.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/get_project_#owner_#name.yap:12:1
	projectFullName := controller.ProjectFullName{Owner: this.Gop_Env("owner"), Project: this.Gop_Env("name")}
//line cmd/spx-backend/get_project_#owner_#name.yap:13:1
	project, err := this.ctrl.GetProject(ctx.Context(), projectFullName)
//line cmd/spx-backend/get_project_#owner_#name.yap:14:1
	if err != nil {
//line cmd/spx-backend/get_project_#owner_#name.yap:15:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_project_#owner_#name.yap:16:1
		return
	}
//line cmd/spx-backend/get_project_#owner_#name.yap:18:1
	this.Json__1(project)
}
func (this *get_project_owner_name) Classfname() string {
	return "get_project_#owner_#name"
}
func (this *get_project_owner_name) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_project_#owner_#name_liking.yap:10
func (this *get_project_owner_name_liking) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_project_#owner_#name_liking.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/get_project_#owner_#name_liking.yap:11:1
	if
//line cmd/spx-backend/get_project_#owner_#name_liking.yap:11:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/get_project_#owner_#name_liking.yap:12:1
		return
	}
//line cmd/spx-backend/get_project_#owner_#name_liking.yap:15:1
	projectFullName := controller.ProjectFullName{Owner: this.Gop_Env("owner"), Project: this.Gop_Env("name")}
//line cmd/spx-backend/get_project_#owner_#name_liking.yap:16:1
	hasLiked, err := this.ctrl.HasLikedProject(ctx.Context(), projectFullName)
//line cmd/spx-backend/get_project_#owner_#name_liking.yap:17:1
	if err != nil {
//line cmd/spx-backend/get_project_#owner_#name_liking.yap:18:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_project_#owner_#name_liking.yap:19:1
		return
	}
//line cmd/spx-backend/get_project_#owner_#name_liking.yap:21:1
	if hasLiked {
//line cmd/spx-backend/get_project_#owner_#name_liking.yap:22:1
		ctx.Text__0(204, "", "")
	} else {
//line cmd/spx-backend/get_project_#owner_#name_liking.yap:24:1
		replyWithCode(ctx, errorNotFound)
	}
}
func (this *get_project_owner_name_liking) Classfname() string {
	return "get_project_#owner_#name_liking"
}
func (this *get_project_owner_name_liking) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_projects_list.yap:14
func (this *get_projects_list) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_projects_list.yap:14:1
	ctx := &this.Context
//line cmd/spx-backend/get_projects_list.yap:16:1
	params := controller.NewListProjectsParams()
//line cmd/spx-backend/get_projects_list.yap:18:1
	switch
//line cmd/spx-backend/get_projects_list.yap:18:1
	owner := this.Gop_Env("owner"); owner {
//line cmd/spx-backend/get_projects_list.yap:19:1
	case "":
//line cmd/spx-backend/get_projects_list.yap:20:1
		mUser, ok := ensureAuthenticatedUser(ctx)
//line cmd/spx-backend/get_projects_list.yap:21:1
		if !ok {
//line cmd/spx-backend/get_projects_list.yap:22:1
			return
		}
//line cmd/spx-backend/get_projects_list.yap:24:1
		params.Owner = &mUser.Username
//line cmd/spx-backend/get_projects_list.yap:25:1
	case "*":
//line cmd/spx-backend/get_projects_list.yap:26:1
		params.Owner = nil
//line cmd/spx-backend/get_projects_list.yap:27:1
	default:
//line cmd/spx-backend/get_projects_list.yap:28:1
		params.Owner = &owner
	}
//line cmd/spx-backend/get_projects_list.yap:31:1
	if
//line cmd/spx-backend/get_projects_list.yap:31:1
	remixedFrom := this.Gop_Env("remixedFrom"); remixedFrom != "" {
//line cmd/spx-backend/get_projects_list.yap:32:1
		rs, err := controller.ParseRemixSource(remixedFrom)
//line cmd/spx-backend/get_projects_list.yap:33:1
		if err != nil {
//line cmd/spx-backend/get_projects_list.yap:34:1
			replyWithCodeMsg(ctx, errorInvalidArgs, "invalid remixedFrom")
//line cmd/spx-backend/get_projects_list.yap:35:1
			return
		}
//line cmd/spx-backend/get_projects_list.yap:37:1
		params.RemixedFrom = &rs
	}
//line cmd/spx-backend/get_projects_list.yap:40:1
	if
//line cmd/spx-backend/get_projects_list.yap:40:1
	keyword := this.Gop_Env("keyword"); keyword != "" {
//line cmd/spx-backend/get_projects_list.yap:41:1
		params.Keyword = &keyword
	}
//line cmd/spx-backend/get_projects_list.yap:44:1
	if
//line cmd/spx-backend/get_projects_list.yap:44:1
	visibility := this.Gop_Env("visibility"); visibility != "" {
//line cmd/spx-backend/get_projects_list.yap:45:1
		v, err := model.ParseVisibility(visibility)
//line cmd/spx-backend/get_projects_list.yap:46:1
		if err != nil {
//line cmd/spx-backend/get_projects_list.yap:47:1
			replyWithCodeMsg(ctx, errorInvalidArgs, "invalid visibility")
//line cmd/spx-backend/get_projects_list.yap:48:1
			return
		}
//line cmd/spx-backend/get_projects_list.yap:50:1
		params.Visibility = &v
	}
//line cmd/spx-backend/get_projects_list.yap:53:1
	if
//line cmd/spx-backend/get_projects_list.yap:53:1
	liker := this.Gop_Env("liker"); liker != "" {
//line cmd/spx-backend/get_projects_list.yap:54:1
		params.Liker = &liker
	}
//line cmd/spx-backend/get_projects_list.yap:57:1
	if
//line cmd/spx-backend/get_projects_list.yap:57:1
	createdAfter := this.Gop_Env("createdAfter"); createdAfter != "" {
//line cmd/spx-backend/get_projects_list.yap:58:1
		createdAfterTime, err := time.Parse(time.RFC3339Nano, createdAfter)
//line cmd/spx-backend/get_projects_list.yap:59:1
		if err != nil {
//line cmd/spx-backend/get_projects_list.yap:60:1
			replyWithCodeMsg(ctx, errorInvalidArgs, "invalid createdAfter")
//line cmd/spx-backend/get_projects_list.yap:61:1
			return
		}
//line cmd/spx-backend/get_projects_list.yap:63:1
		params.CreatedAfter = &createdAfterTime
	}
//line cmd/spx-backend/get_projects_list.yap:66:1
	if
//line cmd/spx-backend/get_projects_list.yap:66:1
	likesReceivedAfter := this.Gop_Env("likesReceivedAfter"); likesReceivedAfter != "" {
//line cmd/spx-backend/get_projects_list.yap:67:1
		likesReceivedAfterTime, err := time.Parse(time.RFC3339Nano, likesReceivedAfter)
//line cmd/spx-backend/get_projects_list.yap:68:1
		if err != nil {
//line cmd/spx-backend/get_projects_list.yap:69:1
			replyWithCodeMsg(ctx, errorInvalidArgs, "invalid likesReceivedAfter")
//line cmd/spx-backend/get_projects_list.yap:70:1
			return
		}
//line cmd/spx-backend/get_projects_list.yap:72:1
		params.LikesReceivedAfter = &likesReceivedAfterTime
	}
//line cmd/spx-backend/get_projects_list.yap:75:1
	if
//line cmd/spx-backend/get_projects_list.yap:75:1
	remixesReceivedAfter := this.Gop_Env("remixesReceivedAfter"); remixesReceivedAfter != "" {
//line cmd/spx-backend/get_projects_list.yap:76:1
		remixesReceivedAfterTime, err := time.Parse(time.RFC3339Nano, remixesReceivedAfter)
//line cmd/spx-backend/get_projects_list.yap:77:1
		if err != nil {
//line cmd/spx-backend/get_projects_list.yap:78:1
			replyWithCodeMsg(ctx, errorInvalidArgs, "invalid remixesReceivedAfter")
//line cmd/spx-backend/get_projects_list.yap:79:1
			return
		}
//line cmd/spx-backend/get_projects_list.yap:81:1
		params.RemixesReceivedAfter = &remixesReceivedAfterTime
	}
//line cmd/spx-backend/get_projects_list.yap:84:1
	if
//line cmd/spx-backend/get_projects_list.yap:84:1
	fromFollowees := this.Gop_Env("fromFollowees"); fromFollowees != "" {
//line cmd/spx-backend/get_projects_list.yap:85:1
		fromFolloweesBool, err := strconv.ParseBool(fromFollowees)
//line cmd/spx-backend/get_projects_list.yap:86:1
		if err != nil {
//line cmd/spx-backend/get_projects_list.yap:87:1
			replyWithCodeMsg(ctx, errorInvalidArgs, "invalid fromFollowees")
//line cmd/spx-backend/get_projects_list.yap:88:1
			return
		}
//line cmd/spx-backend/get_projects_list.yap:90:1
		params.FromFollowees = &fromFolloweesBool
	}
//line cmd/spx-backend/get_projects_list.yap:93:1
	if
//line cmd/spx-backend/get_projects_list.yap:93:1
	orderBy := this.Gop_Env("orderBy"); orderBy != "" {
//line cmd/spx-backend/get_projects_list.yap:94:1
		params.OrderBy = controller.ListProjectsOrderBy(orderBy)
	}
//line cmd/spx-backend/get_projects_list.yap:96:1
	if
//line cmd/spx-backend/get_projects_list.yap:96:1
	sortOrder := this.Gop_Env("sortOrder"); sortOrder != "" {
//line cmd/spx-backend/get_projects_list.yap:97:1
		params.SortOrder = controller.SortOrder(sortOrder)
	}
//line cmd/spx-backend/get_projects_list.yap:100:1
	params.Pagination.Index = this.ParamInt("pageIndex", firstPageIndex)
//line cmd/spx-backend/get_projects_list.yap:101:1
	params.Pagination.Size = this.ParamInt("pageSize", defaultPageSize)
//line cmd/spx-backend/get_projects_list.yap:102:1
	if
//line cmd/spx-backend/get_projects_list.yap:102:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/get_projects_list.yap:103:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/get_projects_list.yap:104:1
		return
	}
//line cmd/spx-backend/get_projects_list.yap:107:1
	projects, err := this.ctrl.ListProjects(ctx.Context(), params)
//line cmd/spx-backend/get_projects_list.yap:108:1
	if err != nil {
//line cmd/spx-backend/get_projects_list.yap:109:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_projects_list.yap:110:1
		return
	}
//line cmd/spx-backend/get_projects_list.yap:112:1
	this.Json__1(projects)
}
func (this *get_projects_list) Classfname() string {
	return "get_projects_list"
}
func (this *get_projects_list) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_recording_#id.yap:6
func (this *get_recording_id) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_recording_#id.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/get_recording_#id.yap:8:1
	recording, err := this.ctrl.GetRecording(ctx.Context(), this.Gop_Env("id"))
//line cmd/spx-backend/get_recording_#id.yap:9:1
	if err != nil {
//line cmd/spx-backend/get_recording_#id.yap:10:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_recording_#id.yap:11:1
		return
	}
//line cmd/spx-backend/get_recording_#id.yap:13:1
	this.Json__1(recording)
}
func (this *get_recording_id) Classfname() string {
	return "get_recording_#id"
}
func (this *get_recording_id) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_recording_#id_liking.yap:6
func (this *get_recording_id_liking) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_recording_#id_liking.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/get_recording_#id_liking.yap:7:1
	if
//line cmd/spx-backend/get_recording_#id_liking.yap:7:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/get_recording_#id_liking.yap:8:1
		return
	}
//line cmd/spx-backend/get_recording_#id_liking.yap:11:1
	isLiking, err := this.ctrl.HasLikedRecording(ctx.Context(), this.Gop_Env("id"))
//line cmd/spx-backend/get_recording_#id_liking.yap:12:1
	if err != nil {
//line cmd/spx-backend/get_recording_#id_liking.yap:13:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_recording_#id_liking.yap:14:1
		return
	}
//line cmd/spx-backend/get_recording_#id_liking.yap:17:1
	if isLiking {
//line cmd/spx-backend/get_recording_#id_liking.yap:18:1
		ctx.Text__0(204, "", "")
//line cmd/spx-backend/get_recording_#id_liking.yap:19:1
		return
	} else {
//line cmd/spx-backend/get_recording_#id_liking.yap:21:1
		replyWithCode(ctx, errorNotFound)
	}
}
func (this *get_recording_id_liking) Classfname() string {
	return "get_recording_#id_liking"
}
func (this *get_recording_id_liking) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_recordings_list.yap:10
func (this *get_recordings_list) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_recordings_list.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/get_recordings_list.yap:12:1
	params := controller.NewListRecordingsParams()
//line cmd/spx-backend/get_recordings_list.yap:14:1
	switch
//line cmd/spx-backend/get_recordings_list.yap:14:1
	owner := this.Gop_Env("owner"); owner {
//line cmd/spx-backend/get_recordings_list.yap:15:1
	case "":
//line cmd/spx-backend/get_recordings_list.yap:16:1
		mUser, ok := ensureAuthenticatedUser(ctx)
//line cmd/spx-backend/get_recordings_list.yap:17:1
		if !ok {
//line cmd/spx-backend/get_recordings_list.yap:18:1
			return
		}
//line cmd/spx-backend/get_recordings_list.yap:20:1
		params.Owner = &mUser.Username
//line cmd/spx-backend/get_recordings_list.yap:21:1
	case "*":
//line cmd/spx-backend/get_recordings_list.yap:22:1
		params.Owner = nil
//line cmd/spx-backend/get_recordings_list.yap:23:1
	default:
//line cmd/spx-backend/get_recordings_list.yap:24:1
		params.Owner = &owner
	}
//line cmd/spx-backend/get_recordings_list.yap:27:1
	if
//line cmd/spx-backend/get_recordings_list.yap:27:1
	projectFullName := this.Gop_Env("projectFullName"); projectFullName != "" {
//line cmd/spx-backend/get_recordings_list.yap:28:1
		pfn, err := controller.ParseProjectFullName(projectFullName)
//line cmd/spx-backend/get_recordings_list.yap:29:1
		if err != nil {
//line cmd/spx-backend/get_recordings_list.yap:30:1
			replyWithCodeMsg(ctx, errorInvalidArgs, "invalid projectFullName")
//line cmd/spx-backend/get_recordings_list.yap:31:1
			return
		}
//line cmd/spx-backend/get_recordings_list.yap:33:1
		params.ProjectFullName = &pfn
	}
//line cmd/spx-backend/get_recordings_list.yap:36:1
	if
//line cmd/spx-backend/get_recordings_list.yap:36:1
	keyword := this.Gop_Env("keyword"); keyword != "" {
//line cmd/spx-backend/get_recordings_list.yap:37:1
		params.Keyword = &keyword
	}
//line cmd/spx-backend/get_recordings_list.yap:40:1
	if
//line cmd/spx-backend/get_recordings_list.yap:40:1
	liker := this.Gop_Env("liker"); liker != "" {
//line cmd/spx-backend/get_recordings_list.yap:41:1
		params.Liker = &liker
	}
//line cmd/spx-backend/get_recordings_list.yap:44:1
	if
//line cmd/spx-backend/get_recordings_list.yap:44:1
	orderBy := this.Gop_Env("orderBy"); orderBy != "" {
//line cmd/spx-backend/get_recordings_list.yap:45:1
		params.OrderBy = controller.ListRecordingsOrderBy(orderBy)
	}
//line cmd/spx-backend/get_recordings_list.yap:48:1
	if
//line cmd/spx-backend/get_recordings_list.yap:48:1
	sortOrder := this.Gop_Env("sortOrder"); sortOrder != "" {
//line cmd/spx-backend/get_recordings_list.yap:49:1
		params.SortOrder = controller.SortOrder(sortOrder)
	}
//line cmd/spx-backend/get_recordings_list.yap:52:1
	params.Pagination.Index = this.ParamInt("pageIndex", firstPageIndex)
//line cmd/spx-backend/get_recordings_list.yap:53:1
	params.Pagination.Size = this.ParamInt("pageSize", defaultPageSize)
//line cmd/spx-backend/get_recordings_list.yap:55:1
	if
//line cmd/spx-backend/get_recordings_list.yap:55:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/get_recordings_list.yap:56:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/get_recordings_list.yap:57:1
		return
	}
//line cmd/spx-backend/get_recordings_list.yap:60:1
	recordings, err := this.ctrl.ListRecordings(ctx.Context(), params)
//line cmd/spx-backend/get_recordings_list.yap:61:1
	if err != nil {
//line cmd/spx-backend/get_recordings_list.yap:62:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_recordings_list.yap:63:1
		return
	}
//line cmd/spx-backend/get_recordings_list.yap:65:1
	this.Json__1(recordings)
}
func (this *get_recordings_list) Classfname() string {
	return "get_recordings_list"
}
func (this *get_recordings_list) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_user.yap:6
func (this *get_user) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_user.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/get_user.yap:7:1
	if
//line cmd/spx-backend/get_user.yap:7:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/get_user.yap:8:1
		return
	}
//line cmd/spx-backend/get_user.yap:11:1
	user, err := this.ctrl.GetAuthenticatedUser(ctx.Context())
//line cmd/spx-backend/get_user.yap:12:1
	if err != nil {
//line cmd/spx-backend/get_user.yap:13:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_user.yap:14:1
		return
	}
//line cmd/spx-backend/get_user.yap:16:1
	this.Json__1(user)
}
func (this *get_user) Classfname() string {
	return "get_user"
}
func (this *get_user) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_user_#username.yap:6
func (this *get_user_username) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_user_#username.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/get_user_#username.yap:8:1
	user, err := this.ctrl.GetUser(ctx.Context(), this.Gop_Env("username"))
//line cmd/spx-backend/get_user_#username.yap:9:1
	if err != nil {
//line cmd/spx-backend/get_user_#username.yap:10:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_user_#username.yap:11:1
		return
	}
//line cmd/spx-backend/get_user_#username.yap:13:1
	this.Json__1(user)
}
func (this *get_user_username) Classfname() string {
	return "get_user_#username"
}
func (this *get_user_username) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_user_#username_following.yap:6
func (this *get_user_username_following) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_user_#username_following.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/get_user_#username_following.yap:7:1
	if
//line cmd/spx-backend/get_user_#username_following.yap:7:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/get_user_#username_following.yap:8:1
		return
	}
//line cmd/spx-backend/get_user_#username_following.yap:11:1
	isFollowing, err := this.ctrl.IsFollowingUser(ctx.Context(), this.Gop_Env("username"))
//line cmd/spx-backend/get_user_#username_following.yap:12:1
	if err != nil {
//line cmd/spx-backend/get_user_#username_following.yap:13:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_user_#username_following.yap:14:1
		return
	}
//line cmd/spx-backend/get_user_#username_following.yap:16:1
	if isFollowing {
//line cmd/spx-backend/get_user_#username_following.yap:17:1
		ctx.Text__0(204, "", "")
	} else {
//line cmd/spx-backend/get_user_#username_following.yap:19:1
		replyWithCode(ctx, errorNotFound)
	}
}
func (this *get_user_username_following) Classfname() string {
	return "get_user_#username_following"
}
func (this *get_user_username_following) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_users_list.yap:10
func (this *get_users_list) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_users_list.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/get_users_list.yap:12:1
	params := controller.NewListUsersParams()
//line cmd/spx-backend/get_users_list.yap:14:1
	if
//line cmd/spx-backend/get_users_list.yap:14:1
	follower := this.Gop_Env("follower"); follower != "" {
//line cmd/spx-backend/get_users_list.yap:15:1
		params.Follower = &follower
	}
//line cmd/spx-backend/get_users_list.yap:18:1
	if
//line cmd/spx-backend/get_users_list.yap:18:1
	followee := this.Gop_Env("followee"); followee != "" {
//line cmd/spx-backend/get_users_list.yap:19:1
		params.Followee = &followee
	}
//line cmd/spx-backend/get_users_list.yap:22:1
	if
//line cmd/spx-backend/get_users_list.yap:22:1
	orderBy := this.Gop_Env("orderBy"); orderBy != "" {
//line cmd/spx-backend/get_users_list.yap:23:1
		params.OrderBy = controller.ListUsersOrderBy(orderBy)
	}
//line cmd/spx-backend/get_users_list.yap:25:1
	if
//line cmd/spx-backend/get_users_list.yap:25:1
	sortOrder := this.Gop_Env("sortOrder"); sortOrder != "" {
//line cmd/spx-backend/get_users_list.yap:26:1
		params.SortOrder = controller.SortOrder(sortOrder)
	}
//line cmd/spx-backend/get_users_list.yap:29:1
	params.Pagination.Index = ctx.ParamInt("pageIndex", firstPageIndex)
//line cmd/spx-backend/get_users_list.yap:30:1
	params.Pagination.Size = ctx.ParamInt("pageSize", defaultPageSize)
//line cmd/spx-backend/get_users_list.yap:31:1
	if
//line cmd/spx-backend/get_users_list.yap:31:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/get_users_list.yap:32:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/get_users_list.yap:33:1
		return
	}
//line cmd/spx-backend/get_users_list.yap:36:1
	users, err := this.ctrl.ListUsers(ctx.Context(), params)
//line cmd/spx-backend/get_users_list.yap:37:1
	if err != nil {
//line cmd/spx-backend/get_users_list.yap:38:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_users_list.yap:39:1
		return
	}
//line cmd/spx-backend/get_users_list.yap:41:1
	this.Json__1(users)
}
func (this *get_users_list) Classfname() string {
	return "get_users_list"
}
func (this *get_users_list) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/get_util_upinfo.yap:6
func (this *get_util_upinfo) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/get_util_upinfo.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/get_util_upinfo.yap:7:1
	if
//line cmd/spx-backend/get_util_upinfo.yap:7:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/get_util_upinfo.yap:8:1
		return
	}
//line cmd/spx-backend/get_util_upinfo.yap:11:1
	upInfo, err := this.ctrl.GetUpInfo(ctx.Context())
//line cmd/spx-backend/get_util_upinfo.yap:12:1
	if err != nil {
//line cmd/spx-backend/get_util_upinfo.yap:13:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/get_util_upinfo.yap:14:1
		return
	}
//line cmd/spx-backend/get_util_upinfo.yap:16:1
	this.Json__1(upInfo)
}
func (this *get_util_upinfo) Classfname() string {
	return "get_util_upinfo"
}
func (this *get_util_upinfo) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_ai_description.yap:10
func (this *post_ai_description) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_ai_description.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/post_ai_description.yap:18:1
	params := &controller.AIDescriptionParams{}
//line cmd/spx-backend/post_ai_description.yap:19:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/post_ai_description.yap:20:1
		return
	}
//line cmd/spx-backend/post_ai_description.yap:22:1
	if
//line cmd/spx-backend/post_ai_description.yap:22:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/post_ai_description.yap:23:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/post_ai_description.yap:24:1
		return
	}
//line cmd/spx-backend/post_ai_description.yap:27:1
	result, err := this.ctrl.GenerateAIDescription(ctx.Context(), params)
//line cmd/spx-backend/post_ai_description.yap:28:1
	if err != nil {
//line cmd/spx-backend/post_ai_description.yap:29:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_ai_description.yap:30:1
		return
	}
//line cmd/spx-backend/post_ai_description.yap:32:1
	this.Json__1(result)
}
func (this *post_ai_description) Classfname() string {
	return "post_ai_description"
}
func (this *post_ai_description) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_ai_interaction_turn.yap:10
func (this *post_ai_interaction_turn) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_ai_interaction_turn.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/post_ai_interaction_turn.yap:18:1
	params := &controller.AIInteractionTurnParams{}
//line cmd/spx-backend/post_ai_interaction_turn.yap:19:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/post_ai_interaction_turn.yap:20:1
		return
	}
//line cmd/spx-backend/post_ai_interaction_turn.yap:22:1
	if
//line cmd/spx-backend/post_ai_interaction_turn.yap:22:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/post_ai_interaction_turn.yap:23:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/post_ai_interaction_turn.yap:24:1
		return
	}
//line cmd/spx-backend/post_ai_interaction_turn.yap:27:1
	result, err := this.ctrl.PerformAIInteractionTurn(ctx.Context(), params)
//line cmd/spx-backend/post_ai_interaction_turn.yap:28:1
	if err != nil {
//line cmd/spx-backend/post_ai_interaction_turn.yap:29:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_ai_interaction_turn.yap:30:1
		return
	}
//line cmd/spx-backend/post_ai_interaction_turn.yap:32:1
	this.Json__1(result)
}
func (this *post_ai_interaction_turn) Classfname() string {
	return "post_ai_interaction_turn"
}
func (this *post_ai_interaction_turn) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_aigc_matting.yap:10
func (this *post_aigc_matting) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_aigc_matting.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/post_aigc_matting.yap:11:1
	if
//line cmd/spx-backend/post_aigc_matting.yap:11:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_aigc_matting.yap:12:1
		return
	}
//line cmd/spx-backend/post_aigc_matting.yap:15:1
	params := &controller.MattingParams{}
//line cmd/spx-backend/post_aigc_matting.yap:16:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/post_aigc_matting.yap:17:1
		return
	}
//line cmd/spx-backend/post_aigc_matting.yap:19:1
	if
//line cmd/spx-backend/post_aigc_matting.yap:19:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/post_aigc_matting.yap:20:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/post_aigc_matting.yap:21:1
		return
	}
//line cmd/spx-backend/post_aigc_matting.yap:24:1
	result, err := this.ctrl.Matting(ctx.Context(), params)
//line cmd/spx-backend/post_aigc_matting.yap:25:1
	if err != nil {
//line cmd/spx-backend/post_aigc_matting.yap:26:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_aigc_matting.yap:27:1
		return
	}
//line cmd/spx-backend/post_aigc_matting.yap:29:1
	this.Json__1(result)
}
func (this *post_aigc_matting) Classfname() string {
	return "post_aigc_matting"
}
func (this *post_aigc_matting) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_asset.yap:12
func (this *post_asset) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_asset.yap:12:1
	ctx := &this.Context
//line cmd/spx-backend/post_asset.yap:13:1
	if
//line cmd/spx-backend/post_asset.yap:13:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_asset.yap:14:1
		return
	}
//line cmd/spx-backend/post_asset.yap:17:1
	params := &controller.CreateAssetParams{}
//line cmd/spx-backend/post_asset.yap:18:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/post_asset.yap:19:1
		return
	}
//line cmd/spx-backend/post_asset.yap:21:1
	if
//line cmd/spx-backend/post_asset.yap:21:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/post_asset.yap:22:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/post_asset.yap:23:1
		return
	}
//line cmd/spx-backend/post_asset.yap:26:1
	if !authz.CanManageAssets(ctx.Context()) {
//line cmd/spx-backend/post_asset.yap:27:1
		if params.Visibility == model.VisibilityPublic {
//line cmd/spx-backend/post_asset.yap:28:1
			replyWithCodeMsg(ctx, errorForbidden, "You are not allowed to create public assets")
//line cmd/spx-backend/post_asset.yap:29:1
			return
		}
	}
//line cmd/spx-backend/post_asset.yap:33:1
	asset, err := this.ctrl.CreateAsset(ctx.Context(), params)
//line cmd/spx-backend/post_asset.yap:34:1
	if err != nil {
//line cmd/spx-backend/post_asset.yap:35:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_asset.yap:36:1
		return
	}
//line cmd/spx-backend/post_asset.yap:38:1
	this.Json__0(201, asset)
}
func (this *post_asset) Classfname() string {
	return "post_asset"
}
func (this *post_asset) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_copilot_message.yap:12
func (this *post_copilot_message) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_copilot_message.yap:12:1
	ctx := &this.Context
//line cmd/spx-backend/post_copilot_message.yap:13:1
	if
//line cmd/spx-backend/post_copilot_message.yap:13:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_copilot_message.yap:14:1
		return
	}
//line cmd/spx-backend/post_copilot_message.yap:18:1
	if
//line cmd/spx-backend/post_copilot_message.yap:18:1
	caps, ok := authz.UserCapabilitiesFromContext(ctx.Context()); ok {
//line cmd/spx-backend/post_copilot_message.yap:19:1
		if caps.CopilotMessageQuotaLeft <= 0 {
//line cmd/spx-backend/post_copilot_message.yap:20:1
			replyWithCodeMsg(ctx, errorTooManyRequests, "Copilot message quota exceeded")
//line cmd/spx-backend/post_copilot_message.yap:21:1
			return
		}
	}
//line cmd/spx-backend/post_copilot_message.yap:25:1
	params := &controller.GenerateMessageParams{}
//line cmd/spx-backend/post_copilot_message.yap:26:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/post_copilot_message.yap:27:1
		return
	}
//line cmd/spx-backend/post_copilot_message.yap:29:1
	if
//line cmd/spx-backend/post_copilot_message.yap:29:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/post_copilot_message.yap:30:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/post_copilot_message.yap:31:1
		return
	}
//line cmd/spx-backend/post_copilot_message.yap:34:1
	canUsePremium := authz.CanUsePremiumLLM(ctx.Context())
//line cmd/spx-backend/post_copilot_message.yap:35:1
	result, err := this.ctrl.GenerateMessage(ctx.Context(), params, canUsePremium)
//line cmd/spx-backend/post_copilot_message.yap:36:1
	if err != nil {
//line cmd/spx-backend/post_copilot_message.yap:37:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_copilot_message.yap:38:1
		return
	}
//line cmd/spx-backend/post_copilot_message.yap:42:1
	if
//line cmd/spx-backend/post_copilot_message.yap:42:1
	err := authz.ConsumeQuota(ctx.Context(), authz.ResourceCopilotMessage, 1); err != nil {
//line cmd/spx-backend/post_copilot_message.yap:43:1
		logger := log.GetReqLogger(ctx.Context())
//line cmd/spx-backend/post_copilot_message.yap:44:1
		logger.Printf("failed to consume copilot quota: %v", err)
	}
//line cmd/spx-backend/post_copilot_message.yap:47:1
	this.Json__1(result)
}
func (this *post_copilot_message) Classfname() string {
	return "post_copilot_message"
}
func (this *post_copilot_message) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_copilot_stream_message.yap:12
func (this *post_copilot_stream_message) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_copilot_stream_message.yap:12:1
	ctx := &this.Context
//line cmd/spx-backend/post_copilot_stream_message.yap:13:1
	if
//line cmd/spx-backend/post_copilot_stream_message.yap:13:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_copilot_stream_message.yap:14:1
		return
	}
//line cmd/spx-backend/post_copilot_stream_message.yap:18:1
	if
//line cmd/spx-backend/post_copilot_stream_message.yap:18:1
	caps, ok := authz.UserCapabilitiesFromContext(ctx.Context()); ok {
//line cmd/spx-backend/post_copilot_stream_message.yap:19:1
		if caps.CopilotMessageQuotaLeft <= 0 {
//line cmd/spx-backend/post_copilot_stream_message.yap:20:1
			replyWithCodeMsg(ctx, errorTooManyRequests, "Copilot message quota exceeded")
//line cmd/spx-backend/post_copilot_stream_message.yap:21:1
			return
		}
	}
//line cmd/spx-backend/post_copilot_stream_message.yap:25:1
	params := &controller.GenerateMessageParams{}
//line cmd/spx-backend/post_copilot_stream_message.yap:26:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/post_copilot_stream_message.yap:27:1
		return
	}
//line cmd/spx-backend/post_copilot_stream_message.yap:29:1
	if
//line cmd/spx-backend/post_copilot_stream_message.yap:29:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/post_copilot_stream_message.yap:30:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/post_copilot_stream_message.yap:31:1
		return
	}
//line cmd/spx-backend/post_copilot_stream_message.yap:34:1
	canUsePremium := authz.CanUsePremiumLLM(ctx.Context())
//line cmd/spx-backend/post_copilot_stream_message.yap:35:1
	read, err := this.ctrl.GenerateMessageStream(ctx.Context(), params, canUsePremium)
//line cmd/spx-backend/post_copilot_stream_message.yap:36:1
	if err != nil {
//line cmd/spx-backend/post_copilot_stream_message.yap:37:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_copilot_stream_message.yap:38:1
		return
	}
//line cmd/spx-backend/post_copilot_stream_message.yap:42:1
	if
//line cmd/spx-backend/post_copilot_stream_message.yap:42:1
	err := authz.ConsumeQuota(ctx.Context(), authz.ResourceCopilotMessage, 1); err != nil {
//line cmd/spx-backend/post_copilot_stream_message.yap:43:1
		logger := log.GetReqLogger(ctx.Context())
//line cmd/spx-backend/post_copilot_stream_message.yap:44:1
		logger.Printf("failed to consume copilot quota: %v", err)
	}
//line cmd/spx-backend/post_copilot_stream_message.yap:47:1
	defer read.Close()
//line cmd/spx-backend/post_copilot_stream_message.yap:49:1
	buf := make([]byte, 4096)
//line cmd/spx-backend/post_copilot_stream_message.yap:50:1
	this.Stream__2(read, buf)
}
func (this *post_copilot_stream_message) Classfname() string {
	return "post_copilot_stream_message"
}
func (this *post_copilot_stream_message) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_course-series.yap:11
func (this *post_course_series) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_course-series.yap:11:1
	ctx := &this.Context
//line cmd/spx-backend/post_course-series.yap:12:1
	if
//line cmd/spx-backend/post_course-series.yap:12:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_course-series.yap:13:1
		return
	}
//line cmd/spx-backend/post_course-series.yap:16:1
	if !authz.CanManageCourses(ctx.Context()) {
//line cmd/spx-backend/post_course-series.yap:17:1
		replyWithCodeMsg(ctx, errorForbidden, "You are not allowed to create course series")
//line cmd/spx-backend/post_course-series.yap:18:1
		return
	}
//line cmd/spx-backend/post_course-series.yap:21:1
	params := &controller.CreateCourseSeriesParams{}
//line cmd/spx-backend/post_course-series.yap:22:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/post_course-series.yap:23:1
		return
	}
//line cmd/spx-backend/post_course-series.yap:25:1
	if
//line cmd/spx-backend/post_course-series.yap:25:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/post_course-series.yap:26:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/post_course-series.yap:27:1
		return
	}
//line cmd/spx-backend/post_course-series.yap:30:1
	courseSeries, err := this.ctrl.CreateCourseSeries(ctx.Context(), params)
//line cmd/spx-backend/post_course-series.yap:31:1
	if err != nil {
//line cmd/spx-backend/post_course-series.yap:32:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_course-series.yap:33:1
		return
	}
//line cmd/spx-backend/post_course-series.yap:35:1
	this.Json__0(201, courseSeries)
}
func (this *post_course_series) Classfname() string {
	return "post_course-series"
}
func (this *post_course_series) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_course.yap:11
func (this *post_course) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_course.yap:11:1
	ctx := &this.Context
//line cmd/spx-backend/post_course.yap:12:1
	if
//line cmd/spx-backend/post_course.yap:12:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_course.yap:13:1
		return
	}
//line cmd/spx-backend/post_course.yap:16:1
	if !authz.CanManageCourses(ctx.Context()) {
//line cmd/spx-backend/post_course.yap:17:1
		replyWithCodeMsg(ctx, errorForbidden, "You are not allowed to create courses")
//line cmd/spx-backend/post_course.yap:18:1
		return
	}
//line cmd/spx-backend/post_course.yap:21:1
	params := &controller.CreateCourseParams{}
//line cmd/spx-backend/post_course.yap:22:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/post_course.yap:23:1
		return
	}
//line cmd/spx-backend/post_course.yap:25:1
	if
//line cmd/spx-backend/post_course.yap:25:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/post_course.yap:26:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/post_course.yap:27:1
		return
	}
//line cmd/spx-backend/post_course.yap:30:1
	course, err := this.ctrl.CreateCourse(ctx.Context(), params)
//line cmd/spx-backend/post_course.yap:31:1
	if err != nil {
//line cmd/spx-backend/post_course.yap:32:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_course.yap:33:1
		return
	}
//line cmd/spx-backend/post_course.yap:35:1
	this.Json__0(201, course)
}
func (this *post_course) Classfname() string {
	return "post_course"
}
func (this *post_course) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_project-release.yap:10
func (this *post_project_release) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_project-release.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/post_project-release.yap:11:1
	if
//line cmd/spx-backend/post_project-release.yap:11:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_project-release.yap:12:1
		return
	}
//line cmd/spx-backend/post_project-release.yap:15:1
	params := &controller.CreateProjectReleaseParams{}
//line cmd/spx-backend/post_project-release.yap:16:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/post_project-release.yap:17:1
		return
	}
//line cmd/spx-backend/post_project-release.yap:19:1
	if
//line cmd/spx-backend/post_project-release.yap:19:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/post_project-release.yap:20:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/post_project-release.yap:21:1
		return
	}
//line cmd/spx-backend/post_project-release.yap:24:1
	projectRelease, err := this.ctrl.CreateProjectRelease(ctx.Context(), params)
//line cmd/spx-backend/post_project-release.yap:25:1
	if err != nil {
//line cmd/spx-backend/post_project-release.yap:26:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_project-release.yap:27:1
		return
	}
//line cmd/spx-backend/post_project-release.yap:29:1
	this.Json__0(201, projectRelease)
}
func (this *post_project_release) Classfname() string {
	return "post_project-release"
}
func (this *post_project_release) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_project.yap:10
func (this *post_project) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_project.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/post_project.yap:11:1
	if
//line cmd/spx-backend/post_project.yap:11:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_project.yap:12:1
		return
	}
//line cmd/spx-backend/post_project.yap:15:1
	params := &controller.CreateProjectParams{}
//line cmd/spx-backend/post_project.yap:16:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/post_project.yap:17:1
		return
	}
//line cmd/spx-backend/post_project.yap:19:1
	if
//line cmd/spx-backend/post_project.yap:19:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/post_project.yap:20:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/post_project.yap:21:1
		return
	}
//line cmd/spx-backend/post_project.yap:24:1
	project, err := this.ctrl.CreateProject(ctx.Context(), params)
//line cmd/spx-backend/post_project.yap:25:1
	if err != nil {
//line cmd/spx-backend/post_project.yap:26:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_project.yap:27:1
		return
	}
//line cmd/spx-backend/post_project.yap:29:1
	this.Json__0(201, project)
}
func (this *post_project) Classfname() string {
	return "post_project"
}
func (this *post_project) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_project_#owner_#name_liking.yap:10
func (this *post_project_owner_name_liking) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_project_#owner_#name_liking.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/post_project_#owner_#name_liking.yap:11:1
	if
//line cmd/spx-backend/post_project_#owner_#name_liking.yap:11:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_project_#owner_#name_liking.yap:12:1
		return
	}
//line cmd/spx-backend/post_project_#owner_#name_liking.yap:15:1
	projectFullName := controller.ProjectFullName{Owner: this.Gop_Env("owner"), Project: this.Gop_Env("name")}
//line cmd/spx-backend/post_project_#owner_#name_liking.yap:16:1
	if
//line cmd/spx-backend/post_project_#owner_#name_liking.yap:16:1
	err := this.ctrl.LikeProject(ctx.Context(), projectFullName); err != nil {
//line cmd/spx-backend/post_project_#owner_#name_liking.yap:17:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_project_#owner_#name_liking.yap:18:1
		return
	}
//line cmd/spx-backend/post_project_#owner_#name_liking.yap:20:1
	this.Text__0(204, "", "")
}
func (this *post_project_owner_name_liking) Classfname() string {
	return "post_project_#owner_#name_liking"
}
func (this *post_project_owner_name_liking) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_project_#owner_#name_view.yap:10
func (this *post_project_owner_name_view) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_project_#owner_#name_view.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/post_project_#owner_#name_view.yap:11:1
	if
//line cmd/spx-backend/post_project_#owner_#name_view.yap:11:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_project_#owner_#name_view.yap:12:1
		return
	}
//line cmd/spx-backend/post_project_#owner_#name_view.yap:15:1
	projectFullName := controller.ProjectFullName{Owner: this.Gop_Env("owner"), Project: this.Gop_Env("name")}
//line cmd/spx-backend/post_project_#owner_#name_view.yap:16:1
	if
//line cmd/spx-backend/post_project_#owner_#name_view.yap:16:1
	err := this.ctrl.RecordProjectView(ctx.Context(), projectFullName); err != nil {
//line cmd/spx-backend/post_project_#owner_#name_view.yap:17:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_project_#owner_#name_view.yap:18:1
		return
	}
//line cmd/spx-backend/post_project_#owner_#name_view.yap:20:1
	this.Text__0(204, "", "")
}
func (this *post_project_owner_name_view) Classfname() string {
	return "post_project_#owner_#name_view"
}
func (this *post_project_owner_name_view) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_recording.yap:10
func (this *post_recording) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_recording.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/post_recording.yap:11:1
	if
//line cmd/spx-backend/post_recording.yap:11:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_recording.yap:12:1
		return
	}
//line cmd/spx-backend/post_recording.yap:15:1
	params := &controller.CreateRecordingParams{}
//line cmd/spx-backend/post_recording.yap:16:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/post_recording.yap:17:1
		return
	}
//line cmd/spx-backend/post_recording.yap:19:1
	if
//line cmd/spx-backend/post_recording.yap:19:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/post_recording.yap:20:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/post_recording.yap:21:1
		return
	}
//line cmd/spx-backend/post_recording.yap:24:1
	recording, err := this.ctrl.CreateRecording(ctx.Context(), params)
//line cmd/spx-backend/post_recording.yap:25:1
	if err != nil {
//line cmd/spx-backend/post_recording.yap:26:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_recording.yap:27:1
		return
	}
//line cmd/spx-backend/post_recording.yap:29:1
	this.Json__0(201, recording)
}
func (this *post_recording) Classfname() string {
	return "post_recording"
}
func (this *post_recording) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_recording_#id_liking.yap:6
func (this *post_recording_id_liking) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_recording_#id_liking.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/post_recording_#id_liking.yap:7:1
	if
//line cmd/spx-backend/post_recording_#id_liking.yap:7:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_recording_#id_liking.yap:8:1
		return
	}
//line cmd/spx-backend/post_recording_#id_liking.yap:11:1
	if
//line cmd/spx-backend/post_recording_#id_liking.yap:11:1
	err := this.ctrl.LikeRecording(ctx.Context(), this.Gop_Env("id")); err != nil {
//line cmd/spx-backend/post_recording_#id_liking.yap:12:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_recording_#id_liking.yap:13:1
		return
	}
//line cmd/spx-backend/post_recording_#id_liking.yap:15:1
	this.Text__0(204, "", "")
}
func (this *post_recording_id_liking) Classfname() string {
	return "post_recording_#id_liking"
}
func (this *post_recording_id_liking) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_recording_#id_view.yap:6
func (this *post_recording_id_view) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_recording_#id_view.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/post_recording_#id_view.yap:7:1
	if
//line cmd/spx-backend/post_recording_#id_view.yap:7:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_recording_#id_view.yap:8:1
		return
	}
//line cmd/spx-backend/post_recording_#id_view.yap:11:1
	if
//line cmd/spx-backend/post_recording_#id_view.yap:11:1
	err := this.ctrl.RecordRecordingView(ctx.Context(), this.Gop_Env("id")); err != nil {
//line cmd/spx-backend/post_recording_#id_view.yap:12:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_recording_#id_view.yap:13:1
		return
	}
//line cmd/spx-backend/post_recording_#id_view.yap:15:1
	this.Text__0(204, "", "")
}
func (this *post_recording_id_view) Classfname() string {
	return "post_recording_#id_view"
}
func (this *post_recording_id_view) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_user_#username_following.yap:6
func (this *post_user_username_following) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_user_#username_following.yap:6:1
	ctx := &this.Context
//line cmd/spx-backend/post_user_#username_following.yap:7:1
	if
//line cmd/spx-backend/post_user_#username_following.yap:7:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_user_#username_following.yap:8:1
		return
	}
//line cmd/spx-backend/post_user_#username_following.yap:11:1
	if
//line cmd/spx-backend/post_user_#username_following.yap:11:1
	err := this.ctrl.FollowUser(ctx.Context(), this.Gop_Env("username")); err != nil {
//line cmd/spx-backend/post_user_#username_following.yap:12:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_user_#username_following.yap:13:1
		return
	}
//line cmd/spx-backend/post_user_#username_following.yap:15:1
	this.Text__0(204, "", "")
}
func (this *post_user_username_following) Classfname() string {
	return "post_user_#username_following"
}
func (this *post_user_username_following) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_util_fileurls.yap:10
func (this *post_util_fileurls) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_util_fileurls.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/post_util_fileurls.yap:12:1
	params := &controller.MakeFileURLsParams{}
//line cmd/spx-backend/post_util_fileurls.yap:13:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/post_util_fileurls.yap:14:1
		return
	}
//line cmd/spx-backend/post_util_fileurls.yap:16:1
	if
//line cmd/spx-backend/post_util_fileurls.yap:16:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/post_util_fileurls.yap:17:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/post_util_fileurls.yap:18:1
		return
	}
//line cmd/spx-backend/post_util_fileurls.yap:21:1
	fileURLs, err := this.ctrl.MakeFileURLs(ctx.Context(), params)
//line cmd/spx-backend/post_util_fileurls.yap:22:1
	if err != nil {
//line cmd/spx-backend/post_util_fileurls.yap:23:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_util_fileurls.yap:24:1
		return
	}
//line cmd/spx-backend/post_util_fileurls.yap:26:1
	this.Json__0(201, fileURLs)
}
func (this *post_util_fileurls) Classfname() string {
	return "post_util_fileurls"
}
func (this *post_util_fileurls) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_wechat_jssdk-config.yap:10
func (this *post_wechat_jssdk_config) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_wechat_jssdk-config.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/post_wechat_jssdk-config.yap:12:1
	params := &controller.WeChatJSSDKConfigParams{}
//line cmd/spx-backend/post_wechat_jssdk-config.yap:13:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/post_wechat_jssdk-config.yap:14:1
		return
	}
//line cmd/spx-backend/post_wechat_jssdk-config.yap:17:1
	if
//line cmd/spx-backend/post_wechat_jssdk-config.yap:17:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/post_wechat_jssdk-config.yap:18:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/post_wechat_jssdk-config.yap:19:1
		return
	}
//line cmd/spx-backend/post_wechat_jssdk-config.yap:22:1
	result, err := this.ctrl.GetWeChatJSSDKConfig(ctx.Context(), params)
//line cmd/spx-backend/post_wechat_jssdk-config.yap:23:1
	if err != nil {
//line cmd/spx-backend/post_wechat_jssdk-config.yap:24:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_wechat_jssdk-config.yap:25:1
		return
	}
//line cmd/spx-backend/post_wechat_jssdk-config.yap:28:1
	this.Json__1(result)
}
func (this *post_wechat_jssdk_config) Classfname() string {
	return "post_wechat_jssdk-config"
}
func (this *post_wechat_jssdk_config) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/post_workflow_stream_message.yap:12
func (this *post_workflow_stream_message) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/post_workflow_stream_message.yap:12:1
	ctx := &this.Context
//line cmd/spx-backend/post_workflow_stream_message.yap:13:1
	if
//line cmd/spx-backend/post_workflow_stream_message.yap:13:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/post_workflow_stream_message.yap:14:1
		return
	}
//line cmd/spx-backend/post_workflow_stream_message.yap:18:1
	if
//line cmd/spx-backend/post_workflow_stream_message.yap:18:1
	caps, ok := authz.UserCapabilitiesFromContext(ctx.Context()); ok {
//line cmd/spx-backend/post_workflow_stream_message.yap:19:1
		if caps.CopilotMessageQuotaLeft <= 0 {
//line cmd/spx-backend/post_workflow_stream_message.yap:20:1
			replyWithCodeMsg(ctx, errorTooManyRequests, "Copilot message quota exceeded")
//line cmd/spx-backend/post_workflow_stream_message.yap:21:1
			return
		}
	}
//line cmd/spx-backend/post_workflow_stream_message.yap:25:1
	params := &controller.WorkflowMessageParams{}
//line cmd/spx-backend/post_workflow_stream_message.yap:26:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/post_workflow_stream_message.yap:27:1
		return
	}
//line cmd/spx-backend/post_workflow_stream_message.yap:29:1
	if
//line cmd/spx-backend/post_workflow_stream_message.yap:29:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/post_workflow_stream_message.yap:30:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/post_workflow_stream_message.yap:31:1
		return
	}
//line cmd/spx-backend/post_workflow_stream_message.yap:34:1
	canUsePremium := authz.CanUsePremiumLLM(ctx.Context())
//line cmd/spx-backend/post_workflow_stream_message.yap:35:1
	read, err := this.ctrl.WorkflowMessageStream(ctx.Context(), params, canUsePremium)
//line cmd/spx-backend/post_workflow_stream_message.yap:36:1
	if err != nil {
//line cmd/spx-backend/post_workflow_stream_message.yap:37:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/post_workflow_stream_message.yap:38:1
		return
	}
//line cmd/spx-backend/post_workflow_stream_message.yap:42:1
	if
//line cmd/spx-backend/post_workflow_stream_message.yap:42:1
	err := authz.ConsumeQuota(ctx.Context(), authz.ResourceCopilotMessage, 1); err != nil {
//line cmd/spx-backend/post_workflow_stream_message.yap:43:1
		logger := log.GetReqLogger(ctx.Context())
//line cmd/spx-backend/post_workflow_stream_message.yap:44:1
		logger.Printf("failed to consume copilot quota: %v", err)
	}
//line cmd/spx-backend/post_workflow_stream_message.yap:47:1
	defer read.Close()
//line cmd/spx-backend/post_workflow_stream_message.yap:49:1
	buf := make([]byte, 4096)
//line cmd/spx-backend/post_workflow_stream_message.yap:50:1
	this.Stream__2(read, buf)
}
func (this *post_workflow_stream_message) Classfname() string {
	return "post_workflow_stream_message"
}
func (this *post_workflow_stream_message) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/put_asset_#id.yap:12
func (this *put_asset_id) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/put_asset_#id.yap:12:1
	ctx := &this.Context
//line cmd/spx-backend/put_asset_#id.yap:13:1
	if
//line cmd/spx-backend/put_asset_#id.yap:13:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/put_asset_#id.yap:14:1
		return
	}
//line cmd/spx-backend/put_asset_#id.yap:17:1
	params := &controller.UpdateAssetParams{}
//line cmd/spx-backend/put_asset_#id.yap:18:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/put_asset_#id.yap:19:1
		return
	}
//line cmd/spx-backend/put_asset_#id.yap:21:1
	if
//line cmd/spx-backend/put_asset_#id.yap:21:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/put_asset_#id.yap:22:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/put_asset_#id.yap:23:1
		return
	}
//line cmd/spx-backend/put_asset_#id.yap:26:1
	if !authz.CanManageAssets(ctx.Context()) {
//line cmd/spx-backend/put_asset_#id.yap:27:1
		if params.Visibility == model.VisibilityPublic {
//line cmd/spx-backend/put_asset_#id.yap:28:1
			replyWithCodeMsg(ctx, errorForbidden, "You are not allowed to make assets public")
//line cmd/spx-backend/put_asset_#id.yap:29:1
			return
		}
	}
//line cmd/spx-backend/put_asset_#id.yap:33:1
	asset, err := this.ctrl.UpdateAsset(ctx.Context(), this.Gop_Env("id"), params)
//line cmd/spx-backend/put_asset_#id.yap:34:1
	if err != nil {
//line cmd/spx-backend/put_asset_#id.yap:35:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/put_asset_#id.yap:36:1
		return
	}
//line cmd/spx-backend/put_asset_#id.yap:38:1
	this.Json__1(asset)
}
func (this *put_asset_id) Classfname() string {
	return "put_asset_#id"
}
func (this *put_asset_id) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/put_course-series_#id.yap:11
func (this *put_course_series_id) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/put_course-series_#id.yap:11:1
	ctx := &this.Context
//line cmd/spx-backend/put_course-series_#id.yap:12:1
	if
//line cmd/spx-backend/put_course-series_#id.yap:12:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/put_course-series_#id.yap:13:1
		return
	}
//line cmd/spx-backend/put_course-series_#id.yap:16:1
	if !authz.CanManageCourses(ctx.Context()) {
//line cmd/spx-backend/put_course-series_#id.yap:17:1
		replyWithCodeMsg(ctx, errorForbidden, "You are not allowed to update course series")
//line cmd/spx-backend/put_course-series_#id.yap:18:1
		return
	}
//line cmd/spx-backend/put_course-series_#id.yap:21:1
	params := &controller.UpdateCourseSeriesParams{}
//line cmd/spx-backend/put_course-series_#id.yap:22:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/put_course-series_#id.yap:23:1
		return
	}
//line cmd/spx-backend/put_course-series_#id.yap:25:1
	if
//line cmd/spx-backend/put_course-series_#id.yap:25:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/put_course-series_#id.yap:26:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/put_course-series_#id.yap:27:1
		return
	}
//line cmd/spx-backend/put_course-series_#id.yap:30:1
	courseSeries, err := this.ctrl.UpdateCourseSeries(ctx.Context(), this.Gop_Env("id"), params)
//line cmd/spx-backend/put_course-series_#id.yap:31:1
	if err != nil {
//line cmd/spx-backend/put_course-series_#id.yap:32:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/put_course-series_#id.yap:33:1
		return
	}
//line cmd/spx-backend/put_course-series_#id.yap:35:1
	this.Json__1(courseSeries)
}
func (this *put_course_series_id) Classfname() string {
	return "put_course-series_#id"
}
func (this *put_course_series_id) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/put_course_#id.yap:11
func (this *put_course_id) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/put_course_#id.yap:11:1
	ctx := &this.Context
//line cmd/spx-backend/put_course_#id.yap:12:1
	if
//line cmd/spx-backend/put_course_#id.yap:12:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/put_course_#id.yap:13:1
		return
	}
//line cmd/spx-backend/put_course_#id.yap:16:1
	if !authz.CanManageCourses(ctx.Context()) {
//line cmd/spx-backend/put_course_#id.yap:17:1
		replyWithCodeMsg(ctx, errorForbidden, "You are not allowed to update courses")
//line cmd/spx-backend/put_course_#id.yap:18:1
		return
	}
//line cmd/spx-backend/put_course_#id.yap:21:1
	params := &controller.UpdateCourseParams{}
//line cmd/spx-backend/put_course_#id.yap:22:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/put_course_#id.yap:23:1
		return
	}
//line cmd/spx-backend/put_course_#id.yap:25:1
	if
//line cmd/spx-backend/put_course_#id.yap:25:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/put_course_#id.yap:26:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/put_course_#id.yap:27:1
		return
	}
//line cmd/spx-backend/put_course_#id.yap:30:1
	course, err := this.ctrl.UpdateCourse(ctx.Context(), this.Gop_Env("id"), params)
//line cmd/spx-backend/put_course_#id.yap:31:1
	if err != nil {
//line cmd/spx-backend/put_course_#id.yap:32:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/put_course_#id.yap:33:1
		return
	}
//line cmd/spx-backend/put_course_#id.yap:35:1
	this.Json__1(course)
}
func (this *put_course_id) Classfname() string {
	return "put_course_#id"
}
func (this *put_course_id) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/put_project_#owner_#name.yap:10
func (this *put_project_owner_name) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/put_project_#owner_#name.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/put_project_#owner_#name.yap:11:1
	if
//line cmd/spx-backend/put_project_#owner_#name.yap:11:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/put_project_#owner_#name.yap:12:1
		return
	}
//line cmd/spx-backend/put_project_#owner_#name.yap:15:1
	params := &controller.UpdateProjectParams{}
//line cmd/spx-backend/put_project_#owner_#name.yap:16:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/put_project_#owner_#name.yap:17:1
		return
	}
//line cmd/spx-backend/put_project_#owner_#name.yap:19:1
	if
//line cmd/spx-backend/put_project_#owner_#name.yap:19:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/put_project_#owner_#name.yap:20:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/put_project_#owner_#name.yap:21:1
		return
	}
//line cmd/spx-backend/put_project_#owner_#name.yap:24:1
	projectFullName := controller.ProjectFullName{Owner: this.Gop_Env("owner"), Project: this.Gop_Env("name")}
//line cmd/spx-backend/put_project_#owner_#name.yap:25:1
	project, err := this.ctrl.UpdateProject(ctx.Context(), projectFullName, params)
//line cmd/spx-backend/put_project_#owner_#name.yap:26:1
	if err != nil {
//line cmd/spx-backend/put_project_#owner_#name.yap:27:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/put_project_#owner_#name.yap:28:1
		return
	}
//line cmd/spx-backend/put_project_#owner_#name.yap:30:1
	this.Json__1(project)
}
func (this *put_project_owner_name) Classfname() string {
	return "put_project_#owner_#name"
}
func (this *put_project_owner_name) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/put_recording_#id.yap:10
func (this *put_recording_id) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/put_recording_#id.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/put_recording_#id.yap:11:1
	if
//line cmd/spx-backend/put_recording_#id.yap:11:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/put_recording_#id.yap:12:1
		return
	}
//line cmd/spx-backend/put_recording_#id.yap:15:1
	params := &controller.UpdateRecordingParams{}
//line cmd/spx-backend/put_recording_#id.yap:16:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/put_recording_#id.yap:17:1
		return
	}
//line cmd/spx-backend/put_recording_#id.yap:19:1
	if
//line cmd/spx-backend/put_recording_#id.yap:19:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/put_recording_#id.yap:20:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/put_recording_#id.yap:21:1
		return
	}
//line cmd/spx-backend/put_recording_#id.yap:24:1
	recording, err := this.ctrl.UpdateRecording(ctx.Context(), this.Gop_Env("id"), params)
//line cmd/spx-backend/put_recording_#id.yap:25:1
	if err != nil {
//line cmd/spx-backend/put_recording_#id.yap:26:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/put_recording_#id.yap:27:1
		return
	}
//line cmd/spx-backend/put_recording_#id.yap:29:1
	this.Json__1(recording)
}
func (this *put_recording_id) Classfname() string {
	return "put_recording_#id"
}
func (this *put_recording_id) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
//line cmd/spx-backend/put_user.yap:10
func (this *put_user) Main(_xgo_arg0 *yap.Context) {
	this.Handler.Main(_xgo_arg0)
//line cmd/spx-backend/put_user.yap:10:1
	ctx := &this.Context
//line cmd/spx-backend/put_user.yap:11:1
	if
//line cmd/spx-backend/put_user.yap:11:1
	_, ok := ensureAuthenticatedUser(ctx); !ok {
//line cmd/spx-backend/put_user.yap:12:1
		return
	}
//line cmd/spx-backend/put_user.yap:15:1
	params := &controller.UpdateAuthenticatedUserParams{}
//line cmd/spx-backend/put_user.yap:16:1
	if !parseJSON(ctx, params) {
//line cmd/spx-backend/put_user.yap:17:1
		return
	}
//line cmd/spx-backend/put_user.yap:19:1
	if
//line cmd/spx-backend/put_user.yap:19:1
	ok, msg := params.Validate(); !ok {
//line cmd/spx-backend/put_user.yap:20:1
		replyWithCodeMsg(ctx, errorInvalidArgs, msg)
//line cmd/spx-backend/put_user.yap:21:1
		return
	}
//line cmd/spx-backend/put_user.yap:24:1
	user, err := this.ctrl.UpdateAuthenticatedUser(ctx.Context(), params)
//line cmd/spx-backend/put_user.yap:25:1
	if err != nil {
//line cmd/spx-backend/put_user.yap:26:1
		replyWithInnerError(ctx, err)
//line cmd/spx-backend/put_user.yap:27:1
		return
	}
//line cmd/spx-backend/put_user.yap:29:1
	this.Json__1(user)
}
func (this *put_user) Classfname() string {
	return "put_user"
}
func (this *put_user) Classclone() yap.HandlerProto {
	_xgo_ret := *this
	return &_xgo_ret
}
func main() {
	new(AppV2).Main()
}
